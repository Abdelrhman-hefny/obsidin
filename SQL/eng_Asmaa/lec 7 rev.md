# ----- Ø§Ù„Ø¯ÙˆØ§Ù„ Ø§Ù„ØªØ¬Ù…ÙŠØ¹ÙŠØ©  (Aggregate Functions) -------


## 1) Ù…Ø§ Ù‡ÙŠ Ø§Ù„Ø¯ÙˆØ§Ù„ Ø§Ù„ØªØ¬Ù…ÙŠØ¹ÙŠØ©ØŸ ÙˆÙ„Ù…Ø§Ø°Ø§ Ù†Ø³ØªØ®Ø¯Ù…Ù‡Ø§ØŸ

**Ø§Ù„Ø¯ÙˆØ§Ù„ Ø§Ù„ØªØ¬Ù…ÙŠØ¹ÙŠØ©** Ø¨ØªØ­Ø³Ø¨ Ù‚ÙŠÙ…Ø© ÙˆØ§Ø­Ø¯Ø© ØªÙ„Ø®Ù‘Øµ Ù…Ø¬Ù…ÙˆØ¹Ø© ØµÙÙˆÙ.
Ø¨Ù†Ø³ØªØ®Ø¯Ù…Ù‡Ø§ Ù„Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª ÙˆØ§Ù„ØªÙ‚Ø§Ø±ÙŠØ±: Ø¹Ø¯Ø¯ Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ†ØŒ Ù…ØªÙˆØ³Ø· Ø§Ù„Ø±ÙˆØ§ØªØ¨ØŒ Ø£Ø¹Ù„Ù‰ Ø±Ø§ØªØ¨ØŒ Ø£Ù‚Ù„ Ø±Ø§ØªØ¨â€¦ Ø¥Ù„Ø®.

Ø£Ø´Ù‡Ø±Ù‡Ø§:

- `COUNT()`                    
- `SUM()`                 
- `AVG()`                   
- `MIN()`                          
- `MAX()`

**ÙÙƒØ±ØªÙ‡Ø§ :**

> Ù„Ùˆ Ø¹Ù†Ø¯Ùƒ Ø¬Ø¯ÙˆÙ„ ÙƒØ¨ÙŠØ± Ø§Ù„Ø¯Ø§Ù„Ø©  "Ø¨ØªØ¬Ù…Ø¹" Ø¨ÙŠØ§Ù†Ø§Øª ÙƒØªÙŠØ± ÙˆØªØ¯ÙŠÙƒ "Ø±Ù‚Ù… Ù…Ù„Ø®Ù‘Øµ" (Ø£Ùˆ Ø³Ø·Ø± Ù…Ù„Ø®Ù‘Øµ Ù„ÙƒÙ„ Ù…Ø¬Ù…ÙˆØ¹Ø©).

---
## 2) COUNT() â€” Ø§Ù„Ø¹Ø¯

**Ø§Ù„ØµÙŠØºØ© Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©:**
```sql
-- ÙŠØ¹Ø¯ ÙƒÙ„ Ø§Ù„ØµÙÙˆÙ
SELECT COUNT(*)

-- ÙŠØ¹Ø¯ Ø§Ù„ØµÙÙˆÙ Ø§Ù„ØªÙŠ Ø¨Ù‡Ø§ Ù‚ÙŠÙ…Ø© ØºÙŠØ± NULL ÙÙŠ Ø§Ù„Ø¹Ù…ÙˆØ¯ Ø§Ù„Ù…Ø­Ø¯Ø¯
SELECT COUNT(ColName)

-- ÙŠØ¹Ø¯ Ø§Ù„Ù‚ÙŠÙ… Ø§Ù„Ù…Ù…ÙŠÙ‘Ø²Ø© ÙÙ‚Ø· (ÙŠÙ„ØºÙŠ Ø§Ù„ØªÙƒØ±Ø§Ø±Ø§Øª)
SELECT COUNT(DISTINCT ColName)
```

**Ø£Ù…Ø«Ù„Ø© :**
```sql
-- (MyCompany.Employee)
SELECT COUNT(*), COUNT(ssn), COUNT(dno)
FROM Employee;
```

- Ø§ `COUNT(*)`: Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø¹Ø¯Ø¯ Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ† (Ø­ØªÙ‰ Ù„Ùˆ `ssn` Ø£Ùˆ `dno` NULL).
- Ø§ `COUNT(ssn)`: Ø¹Ø¯Ø¯ Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ† Ø§Ù„Ø°ÙŠÙ† Ù„Ø¯ÙŠÙ‡Ù… SSN ØºÙŠØ± NULL.
- Ø§ `COUNT(dno)`: Ø¹Ø¯Ø¯ Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ† Ø§Ù„Ø°ÙŠÙ† Ù„Ø¯ÙŠÙ‡Ù… Ø±Ù‚Ù… Ù‚Ø³Ù… ØºÙŠØ± NULL.

**Ù…ØªÙ‰ Ø£Ø³ØªØ®Ø¯Ù…Ù‡ØŸ** Ù„Ù…Ø¹Ø±ÙØ© Ø§Ù„Ø­Ø¬Ù…: ÙƒØ§Ù… Ù…ÙˆØ¸ÙØŸ ÙƒØ§Ù… ÙØ§ØªÙˆØ±Ø©ØŸ ÙƒØ§Ù… Ø·Ù„Ø¨ØŸ

---

## 3) SUM() Ùˆ AVG() â€” Ø§Ù„Ø¬Ù…Ø¹ ÙˆØ§Ù„Ù…ØªÙˆØ³Ø·

**SUM()** ÙŠØ¬Ù…Ø¹ Ù‚ÙŠÙ… Ø±Ù‚Ù…ÙŠØ©.  
**AVG()** ÙŠØ­Ø³Ø¨ Ø§Ù„Ù…ØªÙˆØ³Ø· Ø§Ù„Ø­Ø³Ø§Ø¨ÙŠ Ù„Ù„Ù‚ÙŠÙ… ØºÙŠØ± NULL.

```sql
SELECT SUM(salary)       FROM Employee;       -- Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø±ÙˆØ§ØªØ¨
SELECT AVG(salary)       FROM Employee;       -- Ù…ØªÙˆØ³Ø· Ø§Ù„Ø±ÙˆØ§ØªØ¨
SELECT SUM(salary) / COUNT(salary) FROM Employee; -- Ø²ÙŠ AVG Ù„ÙƒÙ† Ø§Ù†ØªØ¨Ù‡ Ù„Ù€ NULL
```

> **Ù…Ù„Ø­ÙˆØ¸Ø© Ù…Ù‡Ù…Ø©:** Ù„Ùˆ ÙÙŠ Ù‚ÙŠÙ… NULL ÙÙŠ `salary`ØŒ ÙÙ€ `AVG(salary)` = `SUM(salary)/COUNT(salary)` (Ø§Ù„Ø§ØªÙ†ÙŠÙ† ÙŠØªØ¬Ø§Ù‡Ù„ÙˆØ§ NULL).  
> **Ù„ÙƒÙ† Ù„Ùˆ Ø§Ø³ØªØ®Ø¯Ù…Øª** `SUM(salary)/COUNT(*)` Ù…Ù…ÙƒÙ† ÙŠØ·Ù„Ø¹ Ø£ØµØºØ± Ù…Ù† Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠ Ù„Ø£Ù† `COUNT(*)` Ø¨ÙŠØ¹Ø¯ ØµÙÙˆÙ Ø­ØªÙ‰ Ù„Ùˆ Ø±Ø§ØªØ¨Ù‡Ø§ NULL.

**Ø£Ø®Ø·Ø§Ø¡ Ø§Ù„Ù†ÙˆØ¹:**

```sql
SELECT SUM(Fname) FROM Employee;
-- Ø®Ø·Ø£: nvarchar Ù„Ø§ ÙŠÙ†ÙØ¹ Ù…Ø¹ SUM
```

**ØªÙØ§Ø¯ÙŠ Ø§Ù„Ù‚Ø³Ù…Ø© Ø§Ù„ØµØ­ÙŠØ­Ø©:**

```sql
SELECT CAST(SUM(salary) AS decimal(18,2)) / NULLIF(COUNT(salary),0)
FROM Employee;
-- CAST Ù„Ø¶Ù…Ø§Ù† ÙƒØ³ÙˆØ± Ø¹Ø´Ø±ÙŠØ©ØŒ Ùˆ NULLIF Ù„ØªØ¬Ù†Ù‘Ø¨ Ø§Ù„Ù‚Ø³Ù…Ø© Ø¹Ù„Ù‰ ØµÙØ± Ù„Ùˆ Ù…ÙÙŠØ´ Ø±ÙˆØ§ØªØ¨
```

**DISTINCT Ù…Ø¹ SUM/AVG:**

```sql
SELECT SUM(DISTINCT salary) FROM Employee; -- ÙŠØ¬Ù…Ø¹ Ø§Ù„Ù‚ÙŠÙ… Ø§Ù„Ù…Ø®ØªÙ„ÙØ© ÙÙ‚Ø·
SELECT AVG(DISTINCT salary) FROM Employee; -- Ù…ØªÙˆØ³Ø· Ø§Ù„Ù‚ÙŠÙ… Ø§Ù„Ù…Ø®ØªÙ„ÙØ© ÙÙ‚Ø·
```

---

## 4) MIN() Ùˆ MAX() â€” Ø§Ù„ØµØºØ±Ù‰ ÙˆØ§Ù„Ø¹Ø¸Ù…Ù‰

- ØªØ¹Ù…Ù„ Ù…Ø¹ Ø§Ù„Ø£Ø±Ù‚Ø§Ù… ÙˆØ§Ù„ØªÙˆØ§Ø±ÙŠØ® ÙˆØ§Ù„Ù†ØµÙˆØµ.
- Ù…Ø¹ **Ø§Ù„Ù†ØµÙˆØµ**ØŒ Ø§Ù„Ù…Ù‚Ø§Ø±Ù†Ø© **Ù‚Ø§Ù…ÙˆØ³ÙŠØ©/Ø£Ø¨Ø¬Ø¯ÙŠØ©** (Lexicographical).

- Ù…Ø«Ø§Ù„:
```sql
SELECT MAX(Fname) AS [Max Fname], MIN(Fname) AS [Min Fname]
FROM Employee;
```

**Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø´Ø§Ø¦Ø¹:** Ø£Ø¹Ù„Ù‰/Ø£Ù‚Ù„ Ø±Ø§ØªØ¨ØŒ Ø£Ù‚Ø¯Ù…/Ø£Ø­Ø¯Ø« ØªØ§Ø±ÙŠØ® ØªØ¹ÙŠÙŠÙ†.

---

## 5) GROUP BY â€” Ø§Ù„ØªØ¬Ù…ÙŠØ¹ Ø­Ø³Ø¨ Ø¹Ù…ÙˆØ¯/Ø£ÙƒØ«Ø±

```sql
SELECT Dno, MIN(salary) AS MinSalary, MAX(salary) AS MaxSalary
FROM Employee
GROUP BY Dno;  -- Ø³Ø·Ø± Ù„ÙƒÙ„ Ù‚Ø³Ù…
```

- ÙƒÙ„ Ù‚Ø³Ù… (**Dno**) Ù‡ÙŠØ·Ù„Ø¹ Ù„Ù‡ Ø³Ø·Ø± ÙÙŠÙ‡ Ø£Ù‚Ù„ ÙˆØ£Ø¹Ù„Ù‰ Ø±Ø§ØªØ¨.
- Ø£ÙŠ Ø¹Ù…ÙˆØ¯ Ø®Ø§Ø±Ø¬ Ø¯ÙˆØ§Ù„ Ø§Ù„ØªØ¬Ù…ÙŠØ¹ÙŠØ© **Ù„Ø§Ø²Ù…** ÙŠÙƒÙˆÙ† ÙÙŠ `GROUP BY`.
    

**HAVING Ù…Ø«Ø§Ù„:**

```sql
-- Ø§Ù„Ø£Ù‚Ø³Ø§Ù… Ø§Ù„ØªÙŠ Ù…ØªÙˆØ³Ø· Ø±Ø§ØªØ¨Ù‡Ø§ >= 10000
SELECT Dno, AVG(salary) AS AvgSalary
FROM Employee
GROUP BY Dno
HAVING AVG(salary) >= 10000;
```

**WHERE Ù‚Ø¨Ù„ Ø§Ù„ØªØ¬Ù…ÙŠØ¹:**

```sql
-- Ø§Ø¹ØªØ¨Ø± ÙÙ‚Ø· Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ† Ø§Ù„Ø°ÙŠÙ† Ù„Ø¯ÙŠÙ‡Ù… Dno ØºÙŠØ± NULL
SELECT Dno, COUNT(*) AS Cnt
FROM Employee
WHERE Dno IS NOT NULL
GROUP BY Dno;
```

---

## 7) Ø§ Window Functions Ù…Ø¹ OVER(PARTITION BY)

**Ø§Ù„ÙÙƒØ±Ø©:** ØªØ±Ø¬Ø¹ Ù‚ÙŠÙ…Ø© ØªØ¬Ù…ÙŠØ¹ÙŠØ© **Ù„ÙƒÙ„ ØµÙ** Ø¨Ø¯ÙˆÙ† Ù…Ø§ ØªÙ‚Ù„Ù‘Ù„ Ø¹Ø¯Ø¯ Ø§Ù„ØµÙÙˆÙ (Ø¹ÙƒØ³ GROUP BY).

```sql

SELECT *, MIN(salary) OVER (PARTITION BY Dno) AS DeptMinSalary
FROM Employee;

-- Ù†ÙØ³ Ø§Ù„Ù‚ÙŠÙ…Ø© Ù„ÙƒÙ† ØµÙ ÙˆØ§Ø­Ø¯ Ù„ÙƒÙ„ Ù‚Ø³Ù… Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… DISTINCT (Ø£Ùˆ GROUP BY)
SELECT DISTINCT Dno, MIN(salary) OVER (PARTITION BY Dno) AS DeptMinSalary
FROM Employee;
```

**Ù…ØªÙ‰ Ø£Ø³ØªØ®Ø¯Ù…Ù‡Ø§ØŸ** Ù„Ùˆ Ø¹Ø§ÙŠØ² ÙƒÙ„ ØµÙ ÙŠØ­ØªÙØ¸ Ø¨ØªÙØ§ØµÙŠÙ„Ù‡ + ØªØ¶ÙŠÙ Ù„Ù‡ Ø¥Ø­ØµØ§Ø¦ÙŠØ© Ø¹Ù„Ù‰ Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ù‚Ø³Ù…/Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø©.

> **Ù…Ù‚Ø§Ø±Ù†Ø© Ø³Ø±ÙŠØ¹Ø©**

- `GROUP BY`: ÙŠÙØ±Ø¬Ø¹ **Ø³Ø·Ø± ÙˆØ§Ø­Ø¯ Ù„ÙƒÙ„ Ù…Ø¬Ù…ÙˆØ¹Ø©**.
    
- `OVER(PARTITION BY)`: ÙŠÙØ±Ø¬Ø¹ **Ù‚ÙŠÙ…Ø© Ù„ÙƒÙ„ ØµÙ** Ø¯Ø§Ø®Ù„ Ù…Ø¬Ù…ÙˆØ¹ØªÙ‡.
    

---

## 8) Ø£Ù…Ø«Ù„Ø© Ø¹Ù…Ù„ÙŠØ©

### 8.1 

```sql
USE MyCompany;

-- 1) Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø¹Ø§Ù…Ø©
SELECT COUNT(*) AS TotalRows,
       COUNT(ssn) AS WithSSN,
       COUNT(dno) AS WithDept
FROM Employee;

-- 2) Ø¥Ø¬Ù…Ø§Ù„ÙŠ ÙˆÙ…ØªÙˆØ³Ø· Ø§Ù„Ø±ÙˆØ§ØªØ¨
SELECT SUM(salary) AS TotalSalary,
       AVG(salary) AS AvgSalary
FROM Employee;

-- 3) Ø£Ø¹Ù„Ù‰/Ø£Ù‚Ù„ Ø±Ø§ØªØ¨ Ø¹Ù„Ù‰ Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø´Ø±ÙƒØ©
SELECT MAX(salary) AS [Max salary],
       MIN(salary) AS [Min salary]
FROM Employee;

-- 4) Ø£Ø¹Ù„Ù‰/Ø£Ù‚Ù„ Ø±Ø§ØªØ¨ Ù„ÙƒÙ„ Ù‚Ø³Ù…
SELECT Dno,
       MIN(salary) AS MinSalary,
       MAX(salary) AS MaxSalary
FROM Employee
GROUP BY Dno;

-- 5) Ø£Ù‚Ù„ Ø±Ø§ØªØ¨ Ù„ÙƒÙ„ Ù…ÙˆØ¸Ù Ø­Ø³Ø¨ Ù‚Ø³Ù…Ù‡ (Ø¨Ø¯ÙˆÙ† ØªÙ‚Ù„ÙŠÙ„ Ø§Ù„ØµÙÙˆÙ)
SELECT E.*, MIN(salary) OVER (PARTITION BY Dno) AS DeptMin
FROM Employee AS E;

-- 6) Ø§Ù„ÙØ±Ù‚ Ø¨ÙŠÙ† AVG Ùˆ SUM/COUNT
SELECT AVG(salary) AS Avg1,
       CAST(SUM(salary) AS decimal(18,2))/NULLIF(COUNT(salary),0) AS Avg2
FROM Employee;
```

### 8.2 Ù…Ø«Ø§Ù„ Ù„Ù„Ø¨ÙŠØ§Ù†Ø§Øª 

|SSN|Fname|Dno|Salary|
|---|---|---|---|
|1|Ali|10|8000|
|2|Sara|10|10000|
|3|Omar|20|NULL|
|4|Mona|20|12000|

- `COUNT(*)` = 4
    
- `COUNT(salary)` = 3 (Ù„Ø£Ù† Ù‚ÙŠÙ…Ø© ÙˆØ§Ø­Ø¯Ø© NULL)
    
- `SUM(salary)` = 8000 + 10000 + 12000 = 30000
    
- `AVG(salary)` = 30000 / 3 = 10000
    
- `MIN/MAX` Ù„ÙƒÙ„ Ù‚Ø³Ù…:
    
    - Ù‚Ø³Ù… 10: Min=8000, Max=10000
        
    - Ù‚Ø³Ù… 20: Min=12000, Max=12000 (Ù„Ø£Ù† NULL Ù…ÙØªØ¬Ø§Ù‡ÙŽÙ„Ø©)
        

### 8.3 Ù†Øµ + MIN/MAX

```sql
SELECT MAX(Fname) AS MaxFname, MIN(Fname) AS MinFname
FROM Employee; -- Ù…Ù‚Ø§Ø±Ù†Ø© Ø£Ø¨Ø¬Ø¯ÙŠØ©
```

---

## 11) ØªÙ…Ø±ÙŠÙ† ØµØºÙŠØ± ðŸš¶ 

1. Ù‡Ø§Øª Ø¹Ø¯Ø¯ Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ† Ø§Ù„ÙƒÙ„Ù‘ÙŠØŒ ÙˆØ¹Ø¯Ø¯ Ù…Ù† Ù„Ø¯ÙŠÙ‡Ù… Ø±Ø§ØªØ¨ ØºÙŠØ± NULLØŒ ÙˆØ¹Ø¯Ø¯ Ù…Ù† Ù„Ø¯ÙŠÙ‡Ù… Ù‚Ø³Ù… ØºÙŠØ± NULL.
2. Ù‡Ø§Øª Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø±ÙˆØ§ØªØ¨ ÙˆÙ…ØªÙˆØ³Ø·Ù‡Ø§ Ù„Ù„Ø´Ø±ÙƒØ© ÙƒÙƒÙ„.
3. Ù‡Ø§Øª Ø£Ø¹Ù„Ù‰/Ø£Ù‚Ù„ Ø±Ø§ØªØ¨ Ù„ÙƒÙ„ Ù‚Ø³Ù….
4. Ù‡Ø§Øª Ø§Ù„Ø£Ù‚Ø³Ø§Ù… Ø§Ù„ØªÙŠ Ø¹Ø¯Ø¯ Ù…ÙˆØ¸ÙÙŠÙ‡Ø§ â‰¥ 5.
5. Ù‡Ø§Øª Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ† Ù…Ø¹ Ø¥Ø¶Ø§ÙØ© Ø¹Ù…ÙˆØ¯ ÙŠÙˆØ¶Ø­ **Ø£Ù‚Ù„ Ø±Ø§ØªØ¨ ÙÙŠ Ù‚Ø³Ù… ÙƒÙ„ Ù…ÙˆØ¸Ù** (Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… `OVER`).
6. Ø§Ø­Ø³Ø¨ **Ù…ØªÙˆØ³Ø· Ø§Ù„Ø±ÙˆØ§ØªØ¨ Ø§Ù„Ù…Ù…ÙŠÙ‘Ø²Ø© ÙÙ‚Ø·** (Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… `AVG(DISTINCT salary)`).


---


# ----- Ø¯ÙˆØ§Ù„ Ø§Ù„ØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Ø§Ù„Ù‚ÙŠÙ… Ø§Ù„ÙØ§Ø±ØºØ© - NULL Functions -----


### 1) Ø§Ù„ NULL ÙÙŠ Ù‚ÙˆØ§Ø¹Ø¯ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª

- ÙŠØ¹Ù†ÙŠ: _"Ù„Ø§ ØªÙˆØ¬Ø¯ Ù‚ÙŠÙ…Ø©"_ Ø£Ùˆ _"ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ"_ Ø£Ùˆ _"ÙØ§Ø±Øº"_.
- ÙŠØ®ØªÙ„Ù Ø¹Ù† Ø§Ù„Ù‚ÙŠÙ… Ø§Ù„ÙØ§Ø±ØºØ© Ù…Ø«Ù„ `''` (Ø³Ù„Ø³Ù„Ø© Ù†ØµÙŠØ© ÙØ§Ø±ØºØ©) Ø£Ùˆ `0` (ØµÙØ± Ø¹Ø¯Ø¯ÙŠ).
    

---

## 2) Ù„Ù…Ø§Ø°Ø§ Ø§Ù„ØªØ¹Ø§Ù…Ù„ Ù…Ø¹ NULL Ù…Ù‡Ù…ØŸ

- NULL Ù…Ù…ÙƒÙ† ÙŠØºÙŠÙ‘Ø± Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ø§Ø³ØªØ¹Ù„Ø§Ù…Ø§Øª Ø§Ù„Ø­Ø³Ø§Ø¨ÙŠØ©.
    
- Ø§ NULL Ù„Ø§ ÙŠØ³Ø§ÙˆÙŠ Ø£ÙŠ Ø´ÙŠØ¡ØŒ Ø­ØªÙ‰ NULL Ø¢Ø®Ø± (ÙŠØ¹Ù†ÙŠ `NULL = NULL` â†’ Ø§Ù„Ù†ØªÙŠØ¬Ø© `UNKNOWN` ÙˆÙ„ÙŠØ³ TRUE).
- Ù„Ùˆ Ù…Ø§ ØªØ¹Ø§Ù…Ù„ØªØ´ Ù…Ø¹ NULLØŒ Ù…Ù…ÙƒÙ† ØªØ·Ù„Ø¹ Ù†ØªØ§Ø¦Ø¬ Ù†Ø§Ù‚ØµØ© Ø£Ùˆ ØºÙŠØ± Ø¯Ù‚ÙŠÙ‚Ø©.
    

Ù…Ø«Ø§Ù„:

```sql
SELECT salary + 1000 FROM Employee;
-- if salary = NULL â†’ Ø§Ù„Ù†ØªÙŠØ¬Ø© NULLØŒ Ù…Ø´ Ù‡ØªØ­ØµÙ„ Ø¹Ù„Ù‰ 1000
```

---

## 3) Ø§Ù„Ø¯ÙˆØ§Ù„ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©: ISNULL() Ùˆ COALESCE()

### 3.1 ISNULL()

**Ø§Ù„ØµÙŠØºØ©:**
```sql
ISNULL(expression, replacement_value)
```

- Ù„Ùˆ `expression` = NULL â†’ ØªØ³ØªØ¨Ø¯Ù„Ù‡Ø§ Ø¨Ø§Ù„Ù€ `replacement_value`.
- Ù„Ùˆ Ù…Ø´ NULL â†’ ØªØ±Ø¬Ø¹ Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ø£ØµÙ„ÙŠØ©.
    

**Ù…Ø«Ø§Ù„ :**
```sql
SELECT ISNULL(Lname, 'Not found')
FROM Employee;
```

- Ù„Ùˆ `Lname` = NULL â†’ ØªØ¸Ù‡Ø± `'Not found'`.
    
- Ù„Ùˆ `Lname` ÙÙŠÙ‡Ø§ Ù‚ÙŠÙ…Ø© â†’ ØªØ¸Ù‡Ø± ÙƒÙ…Ø§ Ù‡ÙŠ.
    

---

### 3.2 COALESCE()
ÙÙƒØ±ØªÙ‡Ø§: 
Ø¯Ø§Ù„Ø© ÙÙŠ SQL Ø¨ØªØ¯ÙˆØ± Ø¹Ù„Ù‰ **Ø£ÙˆÙ„ Ù‚ÙŠÙ…Ø© Ù…Ø´ NULL** ÙÙŠ Ù‚Ø§Ø¦Ù…Ø© Ù‚ÙŠÙ…ØŒ ÙˆØªØ±Ø¬Ø¹Ù‡Ø§.  
Ù„Ùˆ ÙƒÙ„ Ø§Ù„Ù‚ÙŠÙ… NULLØŒ Ù‡ØªØ±Ø¬Ø¹ Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ© Ø§Ù„Ù„ÙŠ Ø§Ù†Øª Ø­Ø§Ø·Ø·Ù‡Ø§ ÙÙŠ Ø§Ù„Ø¢Ø®Ø±.

- Ø¨Ù†Ø­Ø· Ø¨Ø¯ÙŠÙ„ Ø£Ùˆ Ù‚ÙŠÙ…Ø© Ø§Ø­ØªÙŠØ§Ø·ÙŠØ© ØªØ¸Ù‡Ø± Ø¨Ø¯Ù„ Ø§Ù„Ù€NULL Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù….
- Ø¨ØªØ³Ù‡Ù„ ÙƒØªØ§Ø¨Ø© Ø§Ù„ÙƒÙˆØ¯ Ø¨Ø¯Ù„ Ù…Ø§ Ù†Ø¹Ù…Ù„ `CASE` Ø·ÙˆÙŠÙ„.

**Ø§Ù„ØµÙŠØºØ©:**

```sql
COALESCE(expr1, expr2, expr3, ..., default_value)
```

- ÙŠØ¨Ø¯Ø£ Ù…Ù† Ø§Ù„Ø´Ù…Ø§Ù„ â†’ Ø£ÙˆÙ„ Ù‚ÙŠÙ…Ø© Ù…Ø´ NULL Ù‡ÙŠØ±Ø¬Ø¹Ù‡Ø§.
- Ù„Ùˆ ÙƒÙ„ Ø§Ù„Ù‚ÙŠÙ… NULL â†’ ÙŠØ±Ø¬Ø¹ `default_value`.
    
**Ù…Ø«Ø§Ù„ :**

```sql
SELECT COALESCE(Lname, Address, Fname, 'Not found')
FROM Employee;
```

1. Ø´ÙˆÙ `Lname` â†’ Ù„Ùˆ Ù…ÙˆØ¬ÙˆØ¯ Ø§Ø±Ø¬Ø¹Ù‡.
2. Ù„Ùˆ NULL â†’ Ø¬Ø±Ø¨ `Address`.
3. Ù„Ùˆ NULL â†’ Ø¬Ø±Ø¨ `Fname`.
4. Ù„Ùˆ NULL â†’ Ø§Ø±Ø¬Ø¹ `'Not found'`.
    

---

## 4) Ø¯Ù…Ø¬ Ø§Ù„Ù†ØµÙˆØµ Ù…Ø¹ NULL

### 4.1 ISNULL Ø¯Ø§Ø®Ù„ Ø§Ù„Ù†ØµÙˆØµ

```sql
SELECT Lname + ' ' + ISNULL(Fname, ' ')
FROM Employee;
```

- Ù„Ùˆ `Fname` NULL â†’ ØªØ­Ø· Ù…Ø³Ø§ÙØ© Ø¨Ø¯Ù„Ù‡Ø§.
    

### 4.2 CONCAT() â€” Ø£Ø³Ù‡Ù„ Ù„Ù„ØªØ¹Ø§Ù…Ù„ Ù…Ø¹ NULL

```sql
SELECT CONCAT(Lname, ' ', Fname)
FROM Employee;
```

- `CONCAT` ØªØ¹ØªØ¨Ø± NULL = Ø³Ù„Ø³Ù„Ø© ÙØ§Ø±ØºØ©.
    

### 4.3 CONCAT_WS() â€” Ù…Ø¹ ÙØ§ØµÙ„ Separator

```sql
SELECT CONCAT_WS('-', Fname, Lname, Address, SSN)
FROM Employee;
```

- Ù„Ùˆ Ù‚ÙŠÙ…Ø© NULL â†’ ØªØªØ¬Ø§Ù‡Ù„Ù‡Ø§ ÙˆØªØ­Ø§ÙØ¸ Ø¹Ù„Ù‰ Ø§Ù„ÙØ§ØµÙ„.
    
- Ù…Ø«Ø§Ù„: Ù„Ùˆ Address = NULL â†’ Ø§Ù„Ù†Ø§ØªØ¬ Ù…Ù…ÙƒÙ† ÙŠÙƒÙˆÙ†: `Ali-Ahmed-12345` (Ø¨Ø¯ÙˆÙ† ÙØ§ØµÙ„ Ù…Ø²Ø¯ÙˆØ¬).
    

---

## 5) Ø§Ù„ÙØ±ÙˆÙ‚ Ø¨ÙŠÙ† ISNULL Ùˆ COALESCE

| Ø§Ù„Ø®Ø§ØµÙŠØ©                 | ISNULL        | COALESCE                  |
| ----------------------- | ------------- | ------------------------- |
| Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø§Øª           | 2 ÙÙ‚Ø·         | 2 Ø£Ùˆ Ø£ÙƒØ«Ø±                 |
| Ù…Ø¹ÙŠØ§Ø± ANSI SQL          | Ù„Ø§            | Ù†Ø¹Ù…                       |
| Ø§Ù„ØªÙˆØ§ÙÙ‚ Ù…Ø¹ Ø£Ù†ÙˆØ§Ø¹ Ù…Ø®ØªÙ„ÙØ© | ÙŠØ­Ø§ÙˆÙ„ Ø§Ù„ØªØ­ÙˆÙŠÙ„ | ÙŠØ®ØªØ§Ø± Ù†ÙˆØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£Ø¹Ù„Ù‰ |
| Ø§Ù„Ø£Ø¯Ø§Ø¡                  | Ø£Ø³Ø±Ø¹ Ù‚Ù„ÙŠÙ„Ø§Ù‹   | Ù…Ø±Ù† Ø£ÙƒØ«Ø±                  |

---

## 6) Ø£Ù…Ø«Ù„Ø© 

```sql
-- 1) Ø§Ø³ØªØ¨Ø¯Ø§Ù„ Ø§Ù„Ù‚ÙŠÙ… Ø§Ù„ÙØ§Ø±ØºØ© ÙÙŠ Lname Ø¨ÙƒÙ„Ù…Ø© "Not found"
SELECT ISNULL(Lname, 'Not found')
FROM Employee;

-- 2) Ø£ÙˆÙ„ Ù‚ÙŠÙ…Ø© ØºÙŠØ± NULL Ù…Ù† Lname Ø£Ùˆ Address Ø£Ùˆ SSN
SELECT COALESCE(Lname, Address, SSN, 'Not found')
FROM Employee;

-- 3) Ø¯Ù…Ø¬ Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„ Ø­ØªÙ‰ Ù„Ùˆ Fname Ø£Ùˆ Lname NULL
SELECT CONCAT(Lname, ' ', Fname)
FROM Employee;

-- 4) Ø¯Ù…Ø¬ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø¹ ÙØ§ØµÙ„ - ÙˆØªØ¬Ø§Ù‡Ù„ Ø§Ù„Ù‚ÙŠÙ… NULL
SELECT CONCAT_WS('-', Fname, Lname, Address, SSN)
FROM Employee;
```

---


##  ØªÙ…Ø±ÙŠÙ† ØµØºÙŠØ± ðŸš¶ 

1. Ø§Ø³ØªØ¨Ø¯Ù„ `Address` Ø§Ù„ÙØ§Ø±Øº Ø¨ÙƒÙ„Ù…Ø© `'Unknown'`.
2. Ø§ÙƒØªØ¨ Ø§Ø³ØªØ¹Ù„Ø§Ù… ÙŠØ±Ø¬Ø¹ Ø£ÙˆÙ„ Ù‚ÙŠÙ…Ø© ØºÙŠØ± NULL Ù…Ù† `Email` Ø£Ùˆ `Phone` Ø£Ùˆ ÙƒÙ„Ù…Ø© `'No Contact'`.
3. Ø§Ø¯Ù…Ø¬ `Fname` Ùˆ `Lname` ÙÙŠ Ø¹Ù…ÙˆØ¯ ÙˆØ§Ø­Ø¯ Ø­ØªÙ‰ Ù„Ùˆ Ø¥Ø­Ø¯Ø§Ù‡Ù…Ø§ NULL.
4. Ø¬Ø±Ù‘Ø¨ Ø§Ù„ÙØ±Ù‚ Ø¨ÙŠÙ† `ISNULL` Ùˆ `COALESCE` Ø¥Ø°Ø§ Ø£Ø¹Ø·ÙŠØª Ø£Ù†ÙˆØ§Ø¹ Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø®ØªÙ„ÙØ©.
    

---

# -------Ø¯ÙˆØ§Ù„ Ø§Ù„ØªØ§Ø±ÙŠØ® ÙˆØ§Ù„ÙˆÙ‚Øª Date & Time Functions ----

1 Ù†Ø³Ø®Ø¯Ù…Ù‡Ø§ ÙÙŠ: - ØªÙ‚Ø§Ø±ÙŠØ± ÙŠÙˆÙ…ÙŠØ©/Ø´Ù‡Ø±ÙŠØ©ØŒ Ø­Ø³Ø§Ø¨ Ù…Ø¯Ø¯ØŒ Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø§Ù„ÙŠÙˆÙ…/Ø§Ù„Ø´Ù‡Ø±/Ø§Ù„Ø³Ù†Ø©ØŒ ÙˆÙ…Ø¹Ø§Ù„Ø¬Ø© Ù…ÙˆØ§Ø¹ÙŠØ¯ (Deadlines).
    

### 2 Ø¬Ù„Ø¨ Ø§Ù„ØªØ§Ø±ÙŠØ®/Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ø­Ø§Ù„ÙŠ

```sql
SELECT SYSDATETIME();      -- Ø¯Ù‚Ø© Ø¹Ø§Ù„ÙŠØ© (datetime2) Ø¨Ø§Ù„ØªÙˆÙ‚ÙŠØª Ø§Ù„Ù…Ø­Ù„ÙŠ Ù„Ù„Ø³ÙŠØ±ÙØ±
SELECT SYSUTCDATETIME();   -- Ù†ÙØ³ Ø§Ù„Ø¯Ù‚Ø© Ù„ÙƒÙ† Ø¨ØªÙˆÙ‚ÙŠØª UTC
SELECT GETDATE();          -- ØªØ§Ø±ÙŠØ®/ÙˆÙ‚Øª Ù…Ø­Ù„ÙŠ (datetime)
SELECT GETUTCDATE();       -- ØªØ§Ø±ÙŠØ®/ÙˆÙ‚Øª UTC (datetime)
```


- Ù„Ùˆ Ù…Ø­ØªØ§Ø¬ Ø¯Ù‚Ø© Ù†Ø§Ù†Ùˆ Ø«Ø§Ù†ÙŠØ© ØªÙ‚Ø±ÙŠØ¨Ù‹Ø§ â†’ `SYSDATETIME()` / `SYSUTCDATETIME()`.
- Ù„Ùˆ ÙƒØ§ÙÙŠ Ø«ÙˆØ§Ù†ÙŠ/Ù…Ù„Ù„ÙŠ Ø«Ø§Ù†ÙŠØ© â†’ `GETDATE()` / `GETUTCDATE()`.
- Ù„Ùˆ Ø¨ØªØ³Ø¬Ù‘Ù„ Ø£Ø­Ø¯Ø§Ø« Ø¹Ø§Ù„Ù…ÙŠØ© (Logs) Ø§Ù„Ø£ÙØ¶Ù„ ØªØ®Ø²Ù† UTC Ù„ØªØ¬Ù†Ù‘Ø¨ Ù…Ø´Ø§ÙƒÙ„ Ø§Ù„Ù…Ù†Ø§Ø·Ù‚ Ø§Ù„Ø²Ù…Ù†ÙŠØ©.

---

### 3.3 Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø£Ø¬Ø²Ø§Ø¡ Ù…Ù† Ø§Ù„ØªØ§Ø±ÙŠØ®

```sql
SELECT DATENAME(day, GETDATE()); -- Ø§Ø³Ù… Ø§Ù„Ø¬Ø²Ø¡ ÙƒÙ†Øµ (Ù…Ø«Ù„Ø§Ù‹ "14")
SELECT DAY('2024-11-14');        -- 14
SELECT MONTH('2024-11-14');      -- 11
SELECT YEAR('2024-11-14');       -- 2024
```

> **Ù…Ù„Ø­ÙˆØ¸Ø©:** Ø§Ø³ØªØ®Ø¯Ù… ØµÙŠØºØ© ØªØ§Ø±ÙŠØ® Ø¢Ù…Ù†Ø© ÙˆØºÙŠØ± Ù…Ù„ØªØ¨Ø³Ø© Ù…Ø«Ù„ `YYYY-MM-DD` Ø£Ùˆ Ø§Ù„Ø£ÙØ¶Ù„ `YYYYMMDD`.

---

### 3.4 Ø§Ù„ÙØ±Ù‚ Ø¨ÙŠÙ† ØªØ§Ø±ÙŠØ®ÙŠÙ†: `DATEDIFF`

```sql
-- ÙƒØ§Ù… ÙŠÙˆÙ… Ù…Ù† Ø§Ù„Ù†Ù‡Ø§Ø±Ø¯Ø© Ù„ØºØ§ÙŠØ© 10-10-2025 (Ø§Ù†ØªØ¨Ù‡ Ù„Ù„ØµÙŠØºØ©)
SELECT DATEDIFF(day, GETDATE(), '2025-10-10');
```

- `DATEDIFF` ÙŠØ­Ø³Ø¨ **Ø¹Ø¯Ø¯ Ø­Ø¯ÙˆØ¯ Ø§Ù„ÙˆØ­Ø¯Ø§Øª** Ø§Ù„ØªÙŠ ØªÙ… ØªØ¬Ø§ÙˆØ²Ù‡Ø§ (Days/Months/Years). ÙÙŠ Ø§Ù„ØºØ§Ù„Ø¨ Ø¯Ù‡ ÙŠØ³Ø§ÙˆÙŠ Ø§Ù„ÙØ±Ù‚ Ø§Ù„ÙØ¹Ù„ÙŠ ÙÙŠ Ø§Ù„Ø£ÙŠØ§Ù… Ø¹Ù†Ø¯Ù…Ø§ ØªØªØ¹Ø§Ù…Ù„ Ù…Ø¹ ØªÙˆØ§Ø±ÙŠØ® Ø¨Ø¯ÙˆÙ† Ø³Ø§Ø¹Ø§Øª.
    

---

### 3.5 Ù†Ù‡Ø§ÙŠØ© Ø§Ù„Ø´Ù‡Ø±: `EOMONTH`

```sql
SELECT EOMONTH('2024-11-14'); -- 2024-11-30
SELECT EOMONTH('1950-02-14'); -- 1950-02-28
SELECT EOMONTH('2018-02-14'); -- 2018-02-28
SELECT EOMONTH('2019-02-14'); -- 2019-02-28
SELECT EOMONTH('2020-02-14'); -- 2020-02-29 (Ø³Ù†Ø© ÙƒØ¨ÙŠØ³Ø©)
SELECT EOMONTH('2021-02-14'); -- 2021-02-28
```

**ÙØ§ÙŠØ¯Ø© Ù…Ù‡Ù…Ø©:** Ø¨ØªØ­Ø¯Ø¯ Ø¢Ø®Ø± ÙŠÙˆÙ… ÙÙŠ Ø§Ù„Ø´Ù‡Ø± Ø¨Ø³Ù‡ÙˆÙ„Ø© (Ù„Ù„ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ø´Ù‡Ø±ÙŠØ©ØŒ Ø¥Ù‚ÙØ§Ù„ Ø§Ù„Ø­Ø³Ø§Ø¨Ø§ØªØŒ Ø¥Ù„Ø®).

---

### 3.6 Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØµÙ„Ø§Ø­ÙŠØ© Ø§Ù„ØªØ§Ø±ÙŠØ®: `ISDATE`

```sql
SELECT ISDATE('2021-02-14'); -- 1 Ù„Ùˆ ØªØ§Ø±ÙŠØ® ØµØ§Ù„Ø­ØŒ 0 Ù„Ùˆ ØºÙŠØ± ØµØ§Ù„Ø­
SELECT ISDATE('Minya');      -- 0
```

> **Ù…Ù„Ø§Ø­Ø¸Ø©:** `ISDATE` Ù…Ù…ÙƒÙ† ÙŠØªØ£Ø«Ø± Ø¨Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù„ØºØ©/Ø§Ù„ØªÙ†Ø³ÙŠÙ‚. Ø§Ù„Ø¨Ø¯ÙŠÙ„ Ø§Ù„Ø£Ø­Ø¯Ø« ÙˆØ§Ù„Ø£Ø¯Ù‚ ØºØ§Ù„Ø¨Ù‹Ø§ Ù‡Ùˆ `TRY_CONVERT(date, ... )` Ø£Ùˆ `TRY_CAST(... AS date)` (ØªØ´ÙˆÙÙ‡Ø§ ÙÙŠ ÙØµÙ„ Ø§Ù„ØªØ­ÙˆÙŠÙ„).

---

### 3.7 ØµÙŠØº Ø§Ù„ØªØ§Ø±ÙŠØ® ÙˆØ£ÙØ¶Ù„ Ø§Ù„Ù…Ù…Ø§Ø±Ø³Ø§Øª

- **ØªØ¬Ù†Ù‘Ø¨** ØªÙˆØ§Ø±ÙŠØ® Ø¨ØµÙŠØºØ© Ù…Ù„ØªØ¨Ø³Ø© Ø²ÙŠ `'10-11-2025'` (Ø¯ÙŠ ÙŠÙˆÙ… 10 ÙˆÙ„Ø§ Ø´Ù‡Ø± 10ØŸ).
- Ø§Ø³ØªØ®Ø¯Ù… **`YYYYMMDD`** (Ù…Ø«Ø§Ù„: `20251011`) Ø£Ùˆ **`YYYY-MM-DD`** Ù„ØªÙ‚Ù„ÙŠÙ„ Ø§Ù„Ù„Ø¨Ø³.
- Ø¹Ù†Ø¯ Ø§Ù„Ø¹Ø±Ø¶ Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†ØŒ Ø§Ø³ØªØ®Ø¯Ù… `FORMAT` Ø£Ùˆ `CONVERT` Ø¨Ù€ **Style** Ù…Ù†Ø§Ø³Ø¨.
    

---

### 3.8 Ø£Ù…Ø«Ù„Ø© Ø¹Ù…Ù„ÙŠØ© 

```sql
SELECT SYSDATETIME();       -- 2025-08-14 12:30:41.3592251 (Ù…Ø«Ø§Ù„)
SELECT SYSUTCDATETIME();    -- 2025-08-14 19:31:12.1258336
SELECT GETDATE();           -- 2025-08-14 12:33:10.760
SELECT GETUTCDATE();        -- 2025-08-14 19:33:41.627

SELECT DATENAME(day, GETDATE());             -- Ù…Ø«Ù„Ø§Ù‹ 14
SELECT DATEDIFF(day, GETDATE(), '2025-10-10');

SELECT DAY('2024-11-14');  -- 14
SELECT MONTH('2024-11-14');-- 11
SELECT YEAR('2024-11-14'); -- 2024

SELECT EOMONTH('2024-11-14');
```

---

### 3.9 Ø£Ø®Ø·Ø§Ø¡ Ø´Ø§Ø¦Ø¹Ø© ÙˆÙ†ØµØ§Ø¦Ø­

1. Ø¥Ø¯Ø®Ø§Ù„ ØªØ§Ø±ÙŠØ® Ø¨ØµÙŠØºØ© Ù…Ù„ØªØ¨Ø³Ø© â†’ Ù†ØªØ§Ø¦Ø¬ ØºÙŠØ± Ù…ØªÙˆÙ‚Ø¹Ø©. Ø§Ø³ØªØ®Ø¯Ù… `YYYYMMDD`.
2. Ø§Ù„Ø®Ù„Ø· Ø¨ÙŠÙ† **Ø§Ù„ØªØ®Ø²ÙŠÙ†** Ùˆ**Ø§Ù„Ø¹Ø±Ø¶**: Ø®Ø²Ù‘Ù† ÙƒÙ€ `date/datetime2`ØŒ ÙˆÙ†Ø³Ù‘Ù‚ Ø¹Ù†Ø¯ Ø§Ù„Ø¹Ø±Ø¶ ÙÙ‚Ø·.
3. ØªØ¬Ø§Ù‡Ù„ Ø§Ù„Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø²Ù…Ù†ÙŠØ©: Ø³Ø¬Ù‘Ù„ UTC Ù„Ùˆ Ø§Ù„Ø³ÙŠØ³ØªÙ… Ù…ØªØ¹Ø¯Ø¯ Ø§Ù„Ù…Ù†Ø§Ø·Ù‚.

---

## # -------- Ø¯ÙˆØ§Ù„ Ø§Ù„ØªØ­ÙˆÙŠÙ„ â€” Conversion Functions --------------

### **Ø£ÙˆÙ„Ù‹Ø§: Ù„ÙŠÙ‡ Ø¨Ù†Ø­ÙˆÙ‘Ù„ Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§ØªØŸ**
ÙÙŠ SQL ServerØŒ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù…ÙƒÙ† ØªÙŠØ¬ÙŠ Ø¨Ø£Ø´ÙƒØ§Ù„ Ù…Ø®ØªÙ„ÙØ©:
* Ù†Øµ (string)
* Ø£Ø±Ù‚Ø§Ù… (int, decimal)
* ØªÙˆØ§Ø±ÙŠØ® (date, datetime)
* Ø¹Ù…Ù„Ø§Øª (money)

Ù„ÙƒÙ† Ø£Ø­ÙŠØ§Ù†Ù‹Ø§ Ø¨Ù†Ø­ØªØ§Ø¬ Ù†ØºÙŠØ± Ø§Ù„Ù†ÙˆØ¹ Ø¹Ù„Ø´Ø§Ù†:
1. **Ù†Ø¹Ø±Ø¶Ù‡Ø§ Ø¨Ø´ÙƒÙ„ Ù…Ø¹ÙŠÙ‘Ù†** (Ù…Ø«Ù„Ø§Ù‹ Ø§Ù„ØªØ§Ø±ÙŠØ® Ø¨ØµÙŠØºØ© 14/08/2025 Ø¨Ø¯Ù„ 2025-08-14).
2. **Ù†Ø¬Ù…Ø¹ Ø¨ÙŠÙ† Ø£Ù†ÙˆØ§Ø¹ Ù…Ø®ØªÙ„ÙØ©** (Ù…Ø«Ù„Ø§Ù‹ Ù†Ø¶Ù… Ø§Ù„Ø§Ø³Ù… + Ø§Ù„Ø±Ø§ØªØ¨ ÙÙŠ Ù†Øµ ÙˆØ§Ø­Ø¯).
3. **Ù†Ø­ÙˆÙ‘Ù„ Ø§Ù„Ù†Øµ Ù„Ø±Ù‚Ù… Ø£Ùˆ ØªØ§Ø±ÙŠØ®** Ù‚Ø¨Ù„ Ù†Ø¹Ù…Ù„ Ø¹Ù„ÙŠÙ‡ Ø¹Ù…Ù„ÙŠØ§Øª Ø­Ø³Ø§Ø¨ÙŠØ© Ø£Ùˆ Ù…Ù‚Ø§Ø±Ù†Ø©.


---

### 1ï¸âƒ£ **CAST**

Ø§Ù„ØµÙŠØºØ©:
```sql
CAST(Ø§Ù„Ù‚ÙŠÙ…Ø© AS Ø§Ù„Ù†ÙˆØ¹)
```

* Ø·Ø±ÙŠÙ‚Ø© Ù‚ÙŠØ§Ø³ÙŠØ© (standard) Ù…ÙˆØ¬ÙˆØ¯Ø© ÙÙŠ SQL ÙˆØ£Ù†Ø¸Ù…Ø© Ø£Ø®Ø±Ù‰.
* Ø³Ù‡Ù„Ø© ÙˆØ¨Ø³ÙŠØ·Ø©.
* Ù…ÙÙŠÙ‡Ø§Ø´ Ø§Ø®ØªÙŠØ§Ø± style Ù„Ù„ØªÙˆØ§Ø±ÙŠØ®.

Ù…Ø«Ø§Ù„:
```sql
SELECT CAST(123.45 AS int); -- Ø§Ù„Ù†ØªÙŠØ¬Ø©: 123
```

---

### 2ï¸âƒ£ **CONVERT**

Ø§Ù„ØµÙŠØºØ©:
```MYsql
CONVERT(Ø§Ù„Ù†ÙˆØ¹, Ø§Ù„Ù‚ÙŠÙ…Ø© [, style])
```

* Ø®Ø§ØµØ© Ø¨Ù€ SQL Server.
* ØªÙ‚Ø¯Ø± ØªØ­Ø¯Ø¯ **style** Ù„ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„ØªØ§Ø±ÙŠØ® Ø£Ùˆ Ø§Ù„Ø¹Ù…Ù„Ø©.

Ù…Ø«Ø§Ù„:
```sql
DECLARE @Today datetime = GETDATE();
SELECT CONVERT(varchar, @Today, 103); -- 14/08/2025
```

ðŸ’¡ **Ø§Ù„Ø®Ù„Ø§ØµØ©**:

* Ù„Ùˆ Ø¹Ø§ÙŠØ² ØªØ­ÙˆÙŠÙ„ Ø¨Ø³ÙŠØ· â†’ Ø§Ø³ØªØ®Ø¯Ù… CAST.
* Ù„Ùˆ Ù…Ø­ØªØ§Ø¬ ØªØªØ­ÙƒÙ… ÙÙŠ Ø´ÙƒÙ„ Ø§Ù„ØªØ§Ø±ÙŠØ®/Ø§Ù„Ø±Ù‚Ù… â†’ Ø§Ø³ØªØ®Ø¯Ù… CONVERT.
>Ø§Ù„** `FORMAT` (Ø§Ù„Ù…Ø¨Ù†ÙŠ Ø¹Ù„Ù‰ .NET) Ø£Ù†ÙŠÙ‚ Ù„ÙƒÙ† Ø£Ø¨Ø·Ø£ Ù…Ù† `CONVERT`/`CAST`â€”ÙÙŠ Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„ÙƒØ¨ÙŠØ±Ø© Ø§Ø³ØªØ®Ø¯Ù… `CONVERT`.

---
### 4.3 Ø£Ù†Ù…Ø§Ø·/Styles Ø´Ø§Ø¦Ø¹Ø© Ù„Ù„ØªÙˆØ§Ø±ÙŠØ® ÙˆØ§Ù„Ø§ÙƒØ«Ø± Ø§Ø³ØªØ®Ø¯Ø§Ù…Ø§

- **101**: `mm/dd/yyyy`
- **103**: `dd/mm/yyyy`
- **104**: `dd.mm.yyyy`
- **105**: `dd-mm-yyyy`
- **106**: `dd Mon yyyy`
- **126**: `yyyy-mm-ddThh:mi:ss` (ISO 8601 â€” Ù…ÙÙŠØ¯ Ù„Ù„ØªØ¨Ø§Ø¯Ù„)
- **130/131**: ØªÙ†Ø³ÙŠÙ‚Ø§Øª Ù‡Ø¬Ø±ÙŠ Ø¹Ø±Ø¨ÙŠØ©

---

## **TRY\_CAST Ùˆ TRY\_CONVERT**

* Ù†ÙØ³ ÙÙƒØ±Ø© CAST Ùˆ CONVERT Ù„ÙƒÙ†:
* **Ù„Ùˆ Ø§Ù„ØªØ­ÙˆÙŠÙ„ ÙØ´Ù„ØŒ ÙŠØ±Ø¬Ø¹ NULL Ø¨Ø¯Ù„ Ù…Ø§ ÙŠØ±Ù…ÙŠ Error.**

Ù…Ø«Ø§Ù„:
```sql

SELECT TRY_CAST('Ali' AS int); -- NULL (Ù„Ø£Ù† Ø§Ù„Ù†Øµ Ù…Ø´ Ø±Ù‚Ù…)

SELECT TRY_CONVERT(date, '14/08/2025', 103); -- ÙŠØ­ÙˆÙ„Ù‡Ø§ Ù„ØªØ§Ø±ÙŠØ®

```

ðŸ’¡ Ù…Ù‡Ù… Ù„Ù…Ø§ ØªØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Ø¨ÙŠØ§Ù†Ø§Øª Ø¬Ø§ÙŠØ© Ù…Ù† Ù…Ø³ØªØ®Ø¯Ù… Ø£Ùˆ Ù…Ù„ÙØ§Øª Ø®Ø§Ø±Ø¬ÙŠØ©.

---

## **PARSE Ùˆ TRY\_PARSE**

* Ø£Ù‚ÙˆÙ‰ ÙÙŠ Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ù†ØµÙˆØµ Ø¨ØµÙŠØº Ù…Ø®ØªÙ„ÙØ© Ù…Ø¹ ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ø«Ù‚Ø§ÙØ© (Culture) Ù…Ø«Ù„ en-US Ø£Ùˆ fr-FR.
* Ø£Ø¨Ø·Ø£ Ù…Ù† CAST/CONVERT.
* Ù…ÙÙŠØ¯ Ù„Ùˆ Ø¹Ù†Ø¯Ùƒ Ù†ØµÙˆØµ Ø¬Ø§ÙŠØ© Ù…Ù† Ø¯ÙˆÙ„ Ù…Ø®ØªÙ„ÙØ©.

Ù…Ø«Ø§Ù„:
```sql
SELECT PARSE('Thursday, 14 November 2024' AS date USING 'en-US');
SELECT PARSE('$300.89' AS money USING 'en-US');
SELECT TRY_PARSE('Ali' AS money USING 'en-US'); -- NULL
```

---

## **Ø£Ù…Ø«Ù„Ø© Ø¹Ù…Ù„ÙŠØ©**

```sql
-- Ø¯Ù…Ø¬ Ø§Ù„Ø§Ø³Ù… + Ø§Ù„Ø±Ø§ØªØ¨ ÙƒÙ†Øµ ÙˆØ§Ø­Ø¯
SELECT Fname + '_' + ISNULL(CONVERT(varchar(20), salary), ' ')
FROM Employee;

-- Ø¹Ø±Ø¶ Ø§Ù„ØªØ§Ø±ÙŠØ® Ø¨Ø£ÙƒØ«Ø± Ù…Ù† Ø´ÙƒÙ„
DECLARE @Today datetime = GETDATE();
SELECT CONVERT(varchar, @Today, 101); -- 08/14/2025
SELECT CONVERT(varchar, @Today, 103); -- 14/08/2025
SELECT CONVERT(varchar, @Today, 105); -- 14-08-2025

-- Ø§Ù„ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ø¢Ù…Ù†
SELECT TRY_CAST('2025-08-14' AS date); -- ØªØ§Ø±ÙŠØ® ØµØ­ÙŠØ­
SELECT TRY_CAST('14/08/2025' AS date); -- NULL Ø­Ø³Ø¨ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª
```
---

## **Ø£Ø®Ø·Ø§Ø¡ Ø´Ø§Ø¦Ø¹Ø©**

1. **Ù†Ø³ÙŠØ§Ù† ØªØ­Ø¯ÙŠØ¯ style Ù„Ù„ØªÙˆØ§Ø±ÙŠØ®** â†’ Ù…Ù…ÙƒÙ† ÙŠØ¹Ø±Ø¶Ù‡Ø§ Ø¨ØµÙŠØºØ© ØºÙŠØ± Ù…ØªÙˆÙ‚Ø¹Ø©.
2. **Ø§Ø³ØªØ®Ø¯Ø§Ù… PARSE ÙÙŠ ÙƒÙ„ Ø­Ø§Ø¬Ø©** â†’ Ù‡ÙŠ Ø£Ø¨Ø·Ø£ØŒ Ø§Ø³ØªØ®Ø¯Ù…Ù‡Ø§ Ø¨Ø³ ÙˆÙ‚Øª Ø§Ù„Ø­Ø§Ø¬Ø©.
3. **Ø¹Ø¯Ù… Ø§Ø³ØªØ®Ø¯Ø§Ù… TRY\_* ÙÙŠ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ØºÙŠØ± Ø§Ù„Ù…Ø¶Ù…ÙˆÙ†Ø©*\* â†’ Ù…Ù…ÙƒÙ† Ø§Ù„Ø§Ø³ØªØ¹Ù„Ø§Ù… ÙŠÙ‚Ù Ø¨Ø³Ø¨Ø¨ Ø®Ø·Ø£ ØªØ­ÙˆÙŠÙ„.
4. **Ø§Ø³ØªØ®Ø¯Ø§Ù… FORMAT ÙÙŠ ØªÙ‚Ø§Ø±ÙŠØ± Ø¶Ø®Ù…Ø©** â†’ Ø¨Ø·ÙŠØ¡ Ø¬Ø¯Ù‹Ø§ Ù…Ù‚Ø§Ø±Ù†Ø© Ø¨Ù€ CONVERT.


---
## ØªÙ…Ø±ÙŠÙ† ØµØºÙŠØ± ðŸš¶ 

1. Ø§Ø­Ø³Ø¨ Ø¹Ø¯Ø¯ Ø§Ù„Ø£ÙŠØ§Ù… Ø§Ù„Ù…ØªØ¨Ù‚ÙŠØ© Ø­ØªÙ‰ Ù†Ù‡Ø§ÙŠØ© Ø§Ù„Ø´Ù‡Ø± Ø§Ù„Ø­Ø§Ù„ÙŠ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… `EOMONTH` + `DATEDIFF`.
2. Ø®Ø²Ù‘Ù† Ø§Ù„ØªØ§Ø±ÙŠØ® ÙƒÙ€ `date` Ø«Ù… Ø§Ø¹Ø±Ø¶Ù‡ Ø¨ØµÙŠØº: 101 Ùˆ103 Ùˆ106.
3. Ø­ÙˆÙ‘Ù„ Ø§Ù„Ø³Ù„Ø³Ù„Ø© `'14/08/2025'` Ø¥Ù„Ù‰ `date` Ø¨Ø£Ù…Ø§Ù† (Ø¨Ø¯ÙˆÙ† Ø£Ø®Ø·Ø§Ø¡) Ù…Ù‡Ù…Ø§ ÙƒØ§Ù†Øª Ø§Ù„Ù„ØºØ©.
4. Ø­ÙˆÙ‘Ù„ Ù†Øµ Ù…Ø¨Ù„Øº `'300,89'` Ø¥Ù„Ù‰ `money` Ù…Ø±Ù‘Ø© Ø¨Ø§Ù„Ø«Ù‚Ø§ÙØ© Ø§Ù„ÙØ±Ù†Ø³ÙŠØ© ÙˆØ£Ø®Ø±Ù‰ Ø¨Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©â€”ÙˆØ§Ø´Ø±Ø­ Ø§Ù„ÙØ±Ù‚.


---

# ---------- Ø¯ÙˆØ§Ù„ Ø§Ù„Ù†ØµÙˆØµ  (String Functions) ------

## 1) Ù„Ù…Ø§Ø°Ø§ Ù†Ø³ØªØ®Ø¯Ù… Ø¯ÙˆØ§Ù„ Ø§Ù„Ù†ØµÙˆØµØŸ

- ØªØ¬Ù‡ÙŠØ² Ø¹Ø±Ø¶ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙÙŠ Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± (Ø§Ø³Ù… ÙƒØ§Ù…Ù„ØŒ Ø±Ù‚Ù… Ø¨Ù‡ ÙÙˆØ§ØµÙ„ØŒ ØªØ§Ø±ÙŠØ® Ù…Ù†Ø³Ù‘Ù‚â€¦).
- ØªÙ†Ø¸ÙŠÙ ÙˆØªØ¬Ù‡ÙŠØ² Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù‚Ø¨Ù„ Ø§Ù„Ù…Ù‚Ø§Ø±Ù†Ø© Ø£Ùˆ Ø§Ù„Ø¨Ø­Ø«.
- ØªØ­ÙˆÙŠÙ„ Ù…Ø®Ø±Ø¬Ø§Øª Ø±Ù‚Ù…ÙŠØ©/ØªØ§Ø±ÙŠØ®ÙŠØ© Ø¥Ù„Ù‰ Ù†ØµÙˆØµ Ù…ÙÙ‡ÙˆÙ…Ø© Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ.

---

## 2) ---- Ø¯Ù…Ø¬ Ø§Ù„Ù†ØµÙˆØµ: ` (+) `  `CONCAT` vs `CONCAT_WS` VS ---

### 2.1 Ø¹Ø§Ù…Ù„ Ø§Ù„Ø¬Ù…Ø¹ Ø§Ù„Ù†ØµÙ‘ÙŠ( `+` )

```sql
SELECT Lname + ' ' + ISNULL(Fname, ' ') AS FullName
FROM Employee;
```

- **Ø§Ù„Ù…Ø´ÙƒÙ„Ø©:** Ù„Ùˆ Ø£ÙŠ Ø¬Ø²Ø¡ `NULL` Ø§Ù„Ù†ØªÙŠØ¬Ø© ÙƒÙ„Ù‡Ø§ **NULL**. Ù„Ø°Ù„Ùƒ Ø§Ø³ØªØ®Ø¯Ù… `ISNULL` Ù„ØªÙØ§Ø¯ÙŠÙ‡.
    

### 2.2 Ø§`CONCAT()` â€” Ø§Ù„Ø£Ø³Ù‡Ù„ ÙˆØ§Ù„Ø£ÙƒØ«Ø± Ø£Ù…Ø§Ù†Ù‹Ø§ Ù…Ø¹ NULL

```sql
SELECT CONCAT(Lname, ' ', Fname) AS FullName
FROM Employee;
```

- ÙŠØ¹Ø§Ù…Ù„ `NULL` ÙƒØ³Ù„Ø³Ù„Ø© ÙØ§Ø±ØºØ© "" (Ù„Ø§ ÙŠÙØ³Ù‚Ø· Ø§Ù„Ù†ØªÙŠØ¬Ø©).
    

### 2.3 Ø§ `CONCAT_WS(sep, ...)` â€” Ø¯Ù…Ø¬ Ù…Ø¹ ÙØ§ØµÙ„ Ø«Ø§Ø¨Øª

```sql
SELECT CONCAT_WS('-', Fname, Lname, Address, SSN) AS ContactLine
FROM Employee;
```

- Ø§ **WS = With Separator** (Ø¨ÙØ§ØµÙ„ Ø«Ø§Ø¨Øª).
    - Ø¨ÙŠØªØ¬Ø§Ù‡Ù„ Ø§Ù„Ù‚ÙŠÙ… Ø§Ù„ÙØ§Ø¶ÙŠØ© Ø£Ùˆ `NULL` ÙˆÙ…Ø§ ÙŠØ­Ø·Ø´ ÙÙˆØ§ØµÙ„ Ø²ÙŠØ§Ø¯Ø©.

>ðŸ“Œ **Ù…ØªÙ‰ ØªØ³ØªØ®Ø¯Ù… Ø¥ÙŠÙ‡ØŸ**
- Ø¹Ù†Ø¯Ùƒ Ø§Ø­ØªÙ…Ø§Ù„ ÙˆØ¬ÙˆØ¯ NULL â†’ Ø§Ø³ØªØ®Ø¯Ù… `CONCAT` Ø£Ùˆ `CONCAT_WS`.
- Ø¹Ø§ÙŠØ² ØªØ­ÙƒÙ… ÙŠØ¯ÙˆÙŠ â†’ Ø§Ø³ØªØ®Ø¯Ù… `+` Ù…Ø¹ `ISNULL`.

---

## 3) ØªØºÙŠÙŠØ± Ø­Ø§Ù„Ø© Ø§Ù„Ø­Ø±ÙˆÙ: `LOWER` / `UPPER`

```sql
SELECT LOWER(Fname) AS FirstLower, UPPER(Lname) AS LastUpper
FROM Employee;
```

- Ù…ÙÙŠØ¯ Ù„ØªÙˆØ­ÙŠØ¯ Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„ Ù‚Ø¨Ù„ Ø§Ù„Ù…Ù‚Ø§Ø±Ù†Ø©/Ø§Ù„ÙØ±Ø².
    

> **Ù…Ù„Ø§Ø­Ø¸Ø© Collation:** Ø§Ù„Ù…Ù‚Ø§Ø±Ù†Ø© Ù‚Ø¯ ØªÙƒÙˆÙ† Ø­Ø³Ø§Ø³Ø© Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ø­Ø±ÙˆÙ Ø£Ùˆ Ù„Ø§ Ø­Ø³Ø¨ **Collation** Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§ØªØŒ Ù„ÙƒÙ† `LOWER/UPPER` Ø¯Ø§Ø¦Ù…Ù‹Ø§ ØªØºÙŠÙ‘Ø± Ø§Ù„Ø´ÙƒÙ„ Ø§Ù„Ù…Ø¹Ø±ÙˆØ¶.

---

## 4) Ø·ÙˆÙ„ Ø§Ù„Ù†Øµ: `LEN`

```sql
SELECT LEN(Lname) AS NameLength
FROM Employee;
```

- Ø¨ÙŠØ¹Ø·ÙŠÙƒ Ø¹Ø¯Ø¯ Ø§Ù„Ø­Ø±ÙˆÙ.
- **Ù…Ù‡Ù…:** Ù…Ø§ Ø¨ÙŠØ­Ø³Ø¨Ø´ Ø§Ù„Ù…Ø³Ø§ÙØ§Øª ÙÙŠ Ø¢Ø®Ø± Ø§Ù„Ù†Øµ. Ù„Ùˆ Ù…Ù‡Ù… ØªØ­Ø³Ø¨Ù‡Ø§ØŒ Ø§Ø³ØªØ®Ø¯Ù… `DATALENGTH`.

---

## 5) Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø¬Ø²Ø¡ Ù…Ù† Ø§Ù„Ù†Øµ: `SUBSTRING`

- **SUBSTRING(Ø§Ù„Ù†Øµ, Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©, Ø§Ù„Ø·ÙˆÙ„)**
```sql
SELECT Lname,
       SUBSTRING(Lname, 2, 3) AS Mid3
FROM Employee;
```

- ÙŠØ¨Ø¯Ø£ Ø§Ù„Ø¹Ø¯ Ù…Ù† **1** (ÙˆÙ„ÙŠØ³ 0).
- Ø§Ù„Ù…Ø«Ø§Ù„ ÙŠØ³ØªØ®Ø±Ø¬ 3 Ø­Ø±ÙˆÙ Ø§Ø¨ØªØ¯Ø§Ø¡Ù‹ Ù…Ù† Ø§Ù„Ø­Ø±Ù Ø§Ù„Ø«Ø§Ù†ÙŠ.

---

## 6) ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„Ø¹Ø±Ø¶: `FORMAT`

### 6.1 Ø£Ø±Ù‚Ø§Ù…

```sql
SELECT FORMAT(Salary, '###,###') AS SalaryWithCommas
FROM Employee;

SELECT FORMAT(764245354523, '###,###') AS BigNumber; --> 764,245,354,523
```

- ÙŠØ¹Ø±Ø¶ ÙÙˆØ§ØµÙ„ Ø§Ù„Ø¢Ù„Ø§Ù Ø¨Ø³Ù‡ÙˆÙ„Ø©.
    

### 6.2 ØªÙˆØ§Ø±ÙŠØ®

```sql
DECLARE @today date = GETDATE();
SELECT FORMAT(@today, 'd', 'en-US');  -- 8/14/2025
SELECT FORMAT(@today, 'd', 'ar-sa');  -- 20/02/47 (Ù‡Ø¬Ø±ÙŠ)
SELECT FORMAT(@today, 'D', 'en-US');  -- Thursday, August 14, 2025
SELECT FORMAT(@today, 'D', 'ar-sa');  -- 20/ØµÙØ±/1447

SELECT FORMAT(@today, 'dd MM yy');            -- 14 08 25
SELECT FORMAT(@today, 'ddd MMM yyy');         -- Thu Aug 2025
SELECT FORMAT(@today, 'dddd MMMM yyyy');      -- Thursday August 2025
SELECT FORMAT(@today, 'dddd MMMM yyyy hh:mm:ss tt', 'en-US');
SELECT FORMAT(@today, 'dddd MMMM yyyy hh:mm:ss tt', 'ar-sa');
```

> **ØªÙ†Ø¨ÙŠÙ‡ Ø£Ø¯Ø§Ø¡:** `FORMAT` Ø£Ù†ÙŠÙ‚ Ù„ÙƒÙ† Ø£Ø¨Ø·Ø£ Ù…Ù† `CONVERT`. Ø§Ø³ØªØ®Ø¯Ù…Ù‡ Ù„Ù„Ø¹Ø±Ø¶ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØŒ ÙˆÙ„ÙŠØ³ Ø¯Ø§Ø®Ù„ Ø§Ø³ØªØ¹Ù„Ø§Ù…Ø§Øª Ø¶Ø®Ù…Ø© Ø«Ù‚ÙŠÙ„Ø©.

---

## 7) Ù…Ø«Ø§Ù„ Ø´Ø§Ù…Ù„ 

```sql
-- Ø¯Ù…Ø¬ Ø§Ø³Ù… Ø§Ù„Ø¹Ø§Ø¦Ù„Ø© Ù…Ø¹ Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ø£ÙˆÙ„ Ù…Ø¹ Ù…Ø¹Ø§Ù„Ø¬Ø© NULL
SELECT Lname + ' ' + ISNULL(Fname, ' ') AS FullName
FROM Employee;

-- Ù†ÙØ³ Ø§Ù„ÙÙƒØ±Ø© Ù„ÙƒÙ† Ø¨Ø£Ø³Ù„Ù…ÙŠØ© Ø£Ø¹Ù„Ù‰ Ù…Ø¹ NULL
SELECT CONCAT(Lname, ' ', Fname) AS FullName
FROM Employee;

-- Ø¯Ù…Ø¬ Ø¨Ù‚ÙˆØ§Ø³Ù… Ø«Ø§Ø¨ØªØ© Ù…Ø¹ ØªØ¬Ø§Ù‡Ù„ NULL
SELECT CONCAT_WS('-', Fname, Lname, Address, SSN) AS Line
FROM Employee;

-- ØªØºÙŠÙŠØ± Ø­Ø§Ù„Ø© Ø§Ù„Ø­Ø±ÙˆÙ ÙˆØ·ÙˆÙ„ Ø§Ù„Ø§Ø³Ù…
SELECT LOWER(Fname) AS FLower, UPPER(Lname) AS LUpper, LEN(Lname) AS LLen
FROM Employee;

-- Ø¬Ø²Ø¡ Ù…Ù† Ø§Ù„Ø§Ø³Ù…
SELECT Lname, SUBSTRING(Lname, 2, 3) AS Mid3
FROM Employee;

-- ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„Ø£Ø±Ù‚Ø§Ù… ÙˆØ§Ù„ØªÙˆØ§Ø±ÙŠØ®
SELECT FORMAT(Salary, '###,###') AS SalaryWithCommas FROM Employee;
DECLARE @t date = GETDATE();
SELECT FORMAT(@t, 'D', 'en-US') AS UsLong, FORMAT(@t, 'D', 'ar-sa') AS ArLong;
```

---

**ØªÙ…Ø±ÙŠÙ† ØµØºÙŠØ± ðŸš¶ :**

1. ÙƒÙˆÙ‘Ù† Ø¹Ù…ÙˆØ¯ `FullName` ÙŠØ¯Ù…Ø¬ `Fname` Ùˆ`Lname` Ø¨Ø£Ù…Ø§Ù† Ù„Ùˆ ÙÙŠ `NULL`.
2. Ø£Ù†Ø´Ø¦ `UserLine` Ø¨ØµÙŠØºØ©: `Fname-Lname-SSN` Ù…Ø¹ ØªØ¬Ø§Ù‡Ù„ Ø£ÙŠ Ù‚ÙŠÙ…Ø© NULL ØªÙ„Ù‚Ø§Ø¦ÙŠÙ‹Ø§.
3. Ø§Ø³ØªØ®Ø±Ø¬ Ø£ÙˆÙ„ 2 Ø­Ø±Ù ÙˆØ¢Ø®Ø± 2 Ø­Ø±Ù Ù…Ù† `Lname` (ØªÙ„Ù…ÙŠØ­: `SUBSTRING` Ùˆ `LEN`).
4. Ø§Ø¹Ø±Ø¶ `Salary` Ø¨ÙÙˆØ§ØµÙ„ Ø¢Ù„Ø§ÙØŒ Ø«Ù… Ø¬Ø±Ù‘Ø¨ Ù†ÙØ³ Ø§Ù„ÙÙƒØ±Ø© Ø¨Ù€ `CONVERT` Ù„Ù…Ù‚Ø§Ø±Ù†Ø© Ø§Ù„Ø£Ø¯Ø§Ø¡.

---


# ----------------------- GROUP BY (Ø§Ù„ØªØ¬Ù…ÙŠØ¹) ------------


## 1) Ø§Ù„ÙÙƒØ±Ø© Ø¨Ø¨Ø³Ø§Ø·Ø©

`GROUP BY` ÙÙŠ SQL Ø¨ØªØ®Ù„Ù‘ÙŠ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª **ØªØ¬Ù…Ø¹ Ø§Ù„ØµÙÙˆÙ Ø§Ù„Ù„ÙŠ Ù„ÙŠÙ‡Ø§ Ù†ÙØ³ Ø§Ù„Ù‚ÙŠÙ…Ø© ÙÙŠ Ø¹Ù…ÙˆØ¯ Ù…Ø¹ÙŠÙ‘Ù† Ø£Ùˆ Ø£ÙƒØªØ±**ØŒ ÙˆØ¨Ø¹Ø¯Ù‡Ø§ Ù†Ù‚Ø¯Ø± Ù†Ø³ØªØ®Ø¯Ù… Ø¯ÙˆØ§Ù„ ØªØ¬Ù…ÙŠØ¹ÙŠØ© Ø²ÙŠ:

* **COUNT** â†’ Ø¹Ø¯Ø¯ Ø§Ù„ØµÙÙˆÙ
* **SUM** â†’ Ù…Ø¬Ù…ÙˆØ¹ Ø§Ù„Ù‚ÙŠÙ…
* **AVG** â†’ Ù…ØªÙˆØ³Ø· Ø§Ù„Ù‚ÙŠÙ…
* **MIN** â†’ Ø£Ù‚Ù„ Ù‚ÙŠÙ…Ø©
* **MAX** â†’ Ø£ÙƒØ¨Ø± Ù‚ÙŠÙ…Ø©

ðŸ’¡ **Ù…Ø«Ø§Ù„ :**

ØªØ®ÙŠÙ„ Ø¹Ù†Ø¯Ùƒ Ù…Ù„Ù ÙÙŠÙ‡ Ø¨ÙŠØ§Ù†Ø§Øª Ù…ÙˆØ¸ÙÙŠÙ†. Ù„Ùˆ Ø¹Ø§ÙŠØ² ØªØ¹Ø±Ù **Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø±ØªØ¨Ø§Øª ÙÙŠ ÙƒÙ„ Ù‚Ø³Ù…**ØŒ Ù‡ØªØ¬Ù…Ù‘Ø¹ Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ† Ø­Ø³Ø¨ Ø±Ù‚Ù… Ø§Ù„Ù‚Ø³Ù… (`GROUP BY Dno`) ÙˆØ¨Ø¹Ø¯ÙŠÙ† ØªØ­Ø³Ø¨ Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹.

## 2) Ø¥Ù…ØªÙ‰ Ø¨Ø³ØªØ®Ø¯Ù…Ù‡Ø§ØŸ

* Ø¹Ø¯Ø¯ Ø§Ù„Ø·Ù„Ø§Ø¨ ÙÙŠ ÙƒÙ„ Ù‚Ø³Ù….
* Ø£ÙƒØ¨Ø± ÙˆØ£ØµØºØ± Ø±Ø§ØªØ¨ ÙÙŠ ÙƒÙ„ ÙØ±Ø¹.
* Ù…ØªÙˆØ³Ø· Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª Ù„ÙƒÙ„ Ø´Ù‡Ø±.
* Ø¹Ø¯Ø¯ Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ù„ÙƒÙ„ Ø¹Ù…ÙŠÙ„.

## 3) Ø§Ù„Ù‚ÙˆØ§Ø¹Ø¯ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©

1. Ø£ÙŠ Ø¹Ù…ÙˆØ¯ ÙÙŠ `SELECT` Ù…Ø´ Ø¯Ø§Ø®Ù„ Ø¯Ø§Ù„Ø© ØªØ¬Ù…ÙŠØ¹ÙŠØ© **Ù„Ø§Ø²Ù…** ÙŠÙƒÙˆÙ† ÙÙŠ `GROUP BY`.
2. Ø§Ù„ØªØ±ØªÙŠØ¨ ÙÙŠ `GROUP BY` Ù…Ø´ Ø¨ÙŠØ£Ø«Ø± Ø¹Ù„Ù‰ Ø§Ù„Ø­Ø³Ø§Ø¨ØŒ Ø¨Ø³ Ù…Ù…ÙƒÙ† ÙŠØºÙŠÙ‘Ø± ØªØ±ØªÙŠØ¨ Ø§Ù„Ø¹Ø±Ø¶.
3. Ø§ **WHERE** Ø¨ÙŠØµÙÙ‘ÙŠ Ø§Ù„ØµÙÙˆÙ Ù‚Ø¨Ù„ Ø§Ù„ØªØ¬Ù…ÙŠØ¹ØŒ Ùˆ **HAVING** Ø¨ÙŠØµÙÙ‘ÙŠ Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø§Øª Ø¨Ø¹Ø¯ Ø§Ù„ØªØ¬Ù…ÙŠØ¹.
4. Ø§Ù„Ù†Ø§ØªØ¬ Ù…Ù† `GROUP BY` Ø¨ÙŠÙƒÙˆÙ† **Ø³Ø·Ø± ÙˆØ§Ø­Ø¯ Ù„ÙƒÙ„ Ù…Ø¬Ù…ÙˆØ¹Ø©**.

---

## 4) Ø£Ù…Ø«Ù„Ø© Ø¹Ù…Ù„ÙŠØ©

### Ù…Ø«Ø§Ù„ 1: Ø£Ù‚Ù„ ÙˆØ£Ø¹Ù„Ù‰ Ø±Ø§ØªØ¨ Ù„ÙƒÙ„ Ù‚Ø³Ù…

```sql
SELECT Dno, MIN(salary) AS MinSalary, MAX(salary) AS MaxSalary
FROM Employee
GROUP BY Dno;
```

> Ø§Ù„Ù†Ø§ØªØ¬: Ø³Ø·Ø± ÙˆØ§Ø­Ø¯ Ù„ÙƒÙ„ `Dno` ÙÙŠÙ‡ Ø£Ù‚Ù„ ÙˆØ£Ø¹Ù„Ù‰ Ø±Ø§ØªØ¨ ÙÙŠ Ø§Ù„Ù‚Ø³Ù….

### Ù…Ø«Ø§Ù„ 2: Ø¹Ø¯Ø¯ Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ† ÙÙŠ ÙƒÙ„ Ù‚Ø³Ù… Ù…Ø¹ Ø§Ø³ØªØ¨Ø¹Ø§Ø¯ Ø§Ù„Ø£Ù‚Ø³Ø§Ù… Ø§Ù„ÙØ§Ø±ØºØ©

```sql
SELECT Dno, COUNT(*) AS EmpCount
FROM Employee
WHERE Dno IS NOT NULL
GROUP BY Dno;
```

### Ù…Ø«Ø§Ù„ 3: Ø§Ù„Ø£Ù‚Ø³Ø§Ù… Ø§Ù„ØªÙŠ Ù…ØªÙˆØ³Ø· Ø±Ø§ØªØ¨Ù‡Ø§ >= 10000 (Ø§Ø³ØªØ®Ø¯Ù… HAVING)

```sql
SELECT Dno, AVG(salary) AS AvgSalary
FROM Employee
GROUP BY Dno
HAVING AVG(salary) >= 10000;
```

> Ù‡Ù†Ø§ `HAVING` Ø·Ù„Ù‘Ø¹ ÙÙ‚Ø· Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø§Øª (Ø§Ù„Ø£Ù‚Ø³Ø§Ù…) Ø§Ù„Ù„ÙŠ ØªØ­Ù‚Ù‚ Ø§Ù„Ø´Ø±Ø· Ø¨Ø¹Ø¯ Ø§Ù„Ø­Ø³Ø§Ø¨.

### Ù…Ø«Ø§Ù„ 4: ØªØ¬Ù…ÙŠØ¹ Ø¹Ù„Ù‰ Ø£ÙƒØ«Ø± Ù…Ù† Ø¹Ù…ÙˆØ¯ 

```sql
USE iti;
SELECT Dept_Id, St_Address, COUNT(*) AS [Number of students per Department]
FROM student
WHERE Dept_Id IS NOT NULL
GROUP BY Dept_Id, St_Address;
```

> Ø³ÙŠØ¹Ø·ÙŠ Ø³Ø·Ø±Ù‹Ø§ Ù„ÙƒÙ„ Ù…Ø¬Ù…ÙˆØ¹Ø© ÙØ±ÙŠØ¯Ø© Ù…Ù† `Dept_Id` Ùˆ `St_Address`.

### Ù…Ø«Ø§Ù„ 5: Ø§Ø³ØªØ®Ø¯Ø§Ù… `COUNT(DISTINCT ...)`

```sql
SELECT Dept_Id, COUNT(DISTINCT StudentID) AS UniqueStudents
FROM student
GROUP BY Dept_Id;
```

> `COUNT(DISTINCT ...)` ÙŠØ­Ø³Ø¨ Ø§Ù„Ù‚ÙŠÙ… Ø§Ù„Ù…Ù…ÙŠÙ‘Ø²Ø© ÙÙ‚Ø· Ø¯Ø§Ø®Ù„ ÙƒÙ„ Ù…Ø¬Ù…ÙˆØ¹Ø©.

---

## 5) Ù…Ù‚Ø§Ø±Ù†Ø© Ø³Ø±ÙŠØ¹Ø©: `GROUP BY` vs `OVER(PARTITION BY)`

- `GROUP BY` ÙŠÙÙ‚Ù„Ù‘Ù„ Ø¹Ø¯Ø¯ Ø§Ù„ØµÙÙˆÙ ÙˆÙŠØ±Ø¬Ø¹ Ø³Ø·Ø± Ù„ÙƒÙ„ Ù…Ø¬Ù…ÙˆØ¹Ø©.
    
- `OVER (PARTITION BY ...)` (Ø¯ÙˆØ§Ù„ Ø§Ù„Ù†Ø§ÙØ°Ø©) Ù„Ø§ ØªÙ‚Ù„Ù‘Ù„ Ø§Ù„ØµÙÙˆÙØ› ØªØ¹Ø·ÙŠ Ù‚ÙŠÙ…Ø© ØªØ¬Ù…ÙŠØ¹ÙŠØ© Ù„ÙƒÙ„ ØµÙ Ø¯Ø§Ø®Ù„ Ù…Ø¬Ù…ÙˆØ¹ØªÙ‡.
    

**Ù…Ø«Ø§Ù„ ØªÙˆØ¶ÙŠØ­ÙŠ :**

```sql
-- ÙƒÙ„ ØµÙ Ø³ÙŠØ­Ù…Ù„ Ù‚ÙŠÙ…Ø© Ø£Ù‚Ù„ Ø±Ø§ØªØ¨ ÙÙŠ Ù‚Ø³Ù…Ù‡ ÙˆÙ„ÙƒÙ† Ø§Ù„ØµÙÙˆÙ ÙƒÙ„Ù‡Ø§ ØªØ¨Ù‚Ù‰
SELECT E.*, MIN(salary) OVER (PARTITION BY Dno) AS DeptMinSalary
FROM Employee E;
```

---

## 6) Ø³Ù„ÙˆÙƒ Ø®Ø§Øµ: NULLs ÙÙŠ Ø§Ù„ØªØ¬Ù…ÙŠØ¹

- Ø§Ù„Ù‚ÙŠÙ… `NULL` ÙÙŠ Ø¹Ù…ÙˆØ¯ Ø§Ù„ØªØ¬Ù…ÙŠØ¹ ØªÙØ¹ØªØ¨Ø± Ù‚ÙŠÙ…Ø© ÙˆØ§Ø­Ø¯Ø© â€” ÙŠØ¹Ù†ÙŠ ÙƒÙ„ Ø§Ù„ØµÙÙˆÙ Ø§Ù„ØªÙŠ ÙÙŠÙ‡Ø§ `Dno = NULL` ØªØªØ¬Ù…Ø¹ Ù…Ø¹Ù‹Ø§ ÙÙŠ Ù…Ø¬Ù…ÙˆØ¹Ø© ÙˆØ§Ø­Ø¯Ø©.
    

---

## 7) Ø£Ø®Ø·Ø§Ø¡ Ø´Ø§Ø¦Ø¹Ø© ÙˆÙƒÙŠÙ ØªØªØ¬Ù†Ø¨Ù‡Ø§

- **Ù†Ø³ÙŠØ§Ù† Ø¥Ø¶Ø§ÙØ© Ø¹Ù…ÙˆØ¯ ØºÙŠØ± Ù…Ø¬Ù…Ø¹ ÙÙŠ `GROUP BY`** â†’ Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§Ø³ØªØ¹Ù„Ø§Ù….
- **Ø§Ø³ØªØ®Ø¯Ø§Ù… `WHERE` Ø¨Ø¯Ù„ `HAVING`** Ø¹Ù†Ø¯Ù…Ø§ ØªØ±ÙŠØ¯ ØªØµÙÙŠØ© Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ aggregate â†’ Ù„Ø§ ÙŠØ¹Ù…Ù„.
- **Ø§Ù„Ø®Ù„Ø· Ø¨ÙŠÙ† `COUNT(*)` Ùˆ `COUNT(col)`**: Ø§Ù„Ø£ÙˆÙ„Ù‰ ØªØ¹Ø¯ ÙƒÙ„ Ø§Ù„ØµÙÙˆÙØŒ Ø§Ù„Ø«Ø§Ù†ÙŠØ© ØªØ¹Ø¯ ÙÙ‚Ø· Ø§Ù„ØµÙÙˆÙ Ø§Ù„ØªÙŠ Ø§Ù„Ù‚ÙŠÙ…Ø© ÙÙŠÙ‡Ø§ Ù„ÙŠØ³Øª NULL.
- **Ù‚Ø³Ù…Ø© Ø¹Ù„Ù‰ ØµÙØ±** Ø¹Ù†Ø¯ Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…ØªÙˆØ³Ø· Ù…Ù† `SUM/COUNT` â€” Ø§Ø³ØªØ®Ø¯Ù… `NULLIF(COUNT(...),0)` Ù„ØªÙØ§Ø¯ÙŠ Ø§Ù„Ù‚Ø³Ù…Ø© Ø¹Ù„Ù‰ ØµÙØ±.

---

## 8)   Ù…Ø«Ø§Ù„: 

Ø¬Ø¯ÙˆÙ„ `Employee`:

|SSN|Fname|Dno|Salary|
|---|---|---|---|
|1|Ali|10|8000|
|2|Sara|10|10000|
|3|Omar|20|NULL|
|4|Mona|20|12000|
|5|John|NULL|7000|

Ø§Ø³ØªØ¹Ù„Ø§Ù…:

```sql
SELECT Dno, COUNT(*) AS Cnt, AVG(salary) AS AvgSal
FROM Employee
GROUP BY Dno;
```

Ø§Ù„Ù†Ø§ØªØ¬ Ø§Ù„Ù…ØªÙˆÙ‚Ù‘Ø¹:

- Dno = 10 â†’ Cnt = 2, AvgSal = (8000+10000)/2 = 9000
- Dno = 20 â†’ Cnt = 2, AvgSal = 12000 (NULL Ù…ØªØ¬Ø§Ù‡Ù„Ø© ÙÙŠ AVG)
- Dno = NULL â†’ Cnt = 1, AvgSal = 7000


---

## 9) ØªÙ…Ø±ÙŠÙ† ØµØºÙŠØ± ðŸš¶  

1. Ø§ÙƒØªØ¨ Ø§Ø³ØªØ¹Ù„Ø§Ù…Ù‹Ø§ ÙŠØ¬ÙŠØ¨ `Dno` ÙˆØ¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø±ÙˆØ§ØªØ¨ Ù„ÙƒÙ„ Ù‚Ø³Ù…ØŒ Ù…Ø¹ Ø§Ø³ØªØ¨Ø¹Ø§Ø¯ Ø§Ù„Ø£Ù‚Ø³Ø§Ù… Ø§Ù„ØªÙŠ Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø±ÙˆØ§ØªØ¨Ù‡Ø§ Ø£Ù‚Ù„ Ù…Ù† 20000.
2. Ø§ÙƒØªØ¨ Ø§Ø³ØªØ¹Ù„Ø§Ù…Ù‹Ø§ ÙŠØ¬ÙŠØ¨ `Dno` ÙˆØ¹Ø¯Ø¯ Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ† ÙÙŠÙ‡ØŒ ÙˆØ±ØªØ¨ Ø§Ù„Ù†Ø§ØªØ¬ ØªÙ†Ø§Ø²Ù„ÙŠÙ‹Ø§ Ø­Ø³Ø¨ Ø¹Ø¯Ø¯ Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ†.
3. Ø§ÙƒØªØ¨ Ø§Ø³ØªØ¹Ù„Ø§Ù…Ù‹Ø§ ÙŠØ¬ÙŠØ¨ `Dept_Id` Ùˆ`St_Address` ÙˆØ¹Ø¯Ø¯ Ø§Ù„Ø·Ù„Ø§Ø¨ØŒ Ø«Ù… Ø§Ø®ØªÙŽØ± ÙÙ‚Ø· Ø§Ù„ØµÙÙˆÙ Ø§Ù„ØªÙŠ Ø¹Ø¯Ø¯ Ø·Ù„Ø§Ø¨Ù‡Ø§ >= 5.
