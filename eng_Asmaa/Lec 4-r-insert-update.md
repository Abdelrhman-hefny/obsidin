Lec 4-r-ALTER-drob- insert-update
##  1- ุงูุฑ `ALTER TABLE` โ ุชุนุฏูู ูููู ุงูุฌุฏูู (DDL)

ุฃูุฑ ุจูุณุชุฎุฏูู ููุง ูุญุจ **ูุบูุฑ ุดูู ุงูุฌุฏูู** ููุณูุ ูุด ุงูุจูุงูุงุช ุงููู ุฌูุงู. ุงูุชุบููุฑุงุช ุฏู ูููู ุชููู:

1. ุชุถูู ุนููุฏ ุฌุฏูุฏ.
2. ุชุบููุฑ ุงุณู ุนููุฏ.
3. ุชุบููุฑ ููุน ุจูุงูุงุช ุนููุฏ.
4. ุชุญุฐู ุนููุฏ ูู ุงูุฌุฏูู.

---
##  ุฃูููุง: **ุฅุถุงูุฉ ุนููุฏ ุฌุฏูุฏ**

ูููู ุชุจุฏุฃ ุจุฌุฏูู ููู ุจูุงูุงุช ูุนููุฉุ ูุจุนุฏูู ุชูุชุดู ุฅูู ูุญุชุงุฌ ุชุฎุฒู ูุนูููุฉ ุฅุถุงููุฉ ูุด ููุฌูุฏุฉ.

ูุซุงู:ุณุณ
```sql
ALTER TABLE Employees
ADD Department varchar(50);
```


- `ALTER TABLE Employees`: ุจูุนุฏู ุนูู ุฌุฏูู ุงุณูู `Employees`.
    
- `ADD Department varchar(50)`: ุจูุถูู ุนููุฏ ุฌุฏูุฏ ุงุณูู `Department`ุ ูููุนู **ูุต (ุญุฑูู)** ูุญุฏ 50 ุญุฑู.

---

##  ุซุงูููุง: **ุชุบููุฑ ููุน ุจูุงูุงุช ุนููุฏ ููุฌูุฏ**

ูุฃูู ูููู ุชููู ุญุฏุฏุช ููุน ุจูุงูุงุช **ุตุบูุฑ ุฃู ุบูุฑ ููุงุณุจ**ุ ูุจุนุฏูู ุงุญุชุฌุช:

- ุชุฏุฎูู ุจูุงูุงุช ุฃูุจุฑ.    - ุชุฏุนูู ุงูุนุฑุจู.     - ุชูุจู ุฃุฑูุงู ุนุดุฑูุฉ ุจุฏู ุตุญูุญุฉ.

ูุซุงู:
```sql
ALTER TABLE Employees
ALTER COLUMN Department nvarchar(100);
```


ุง   ALTER TABLE Employees ุจูุนุฏู ุนูู ููุณ ุงูุฌุฏูู Employees.

ุง   ALTER COLUMN Department ุจูุบูุฑ ุฎุตุงุฆุต ุนููุฏ ููุฌูุฏ ุงุณูู Department.

ุง   nvarchar(100) ุงูููุน ุงูุฌุฏูุฏ ููุนููุฏ: ูุต ุจููุจู ุงููุบุฉ ุงูุนุฑุจูุฉ ููุญุฏ 100 ุญุฑู.

---
๐ก **ุงููุฑู ุจูู `varchar` ู `nvarchar`:**

|`varchar`|`nvarchar`|
|---|---|
|ูุฏุนู ุงูุฅูุฌููุฒู ููุท ุฃู ูุบุงุช ANSI|ูุฏุนู ุงูุนุฑุจู ูุฌููุน ุงููุบุงุช|
|ุฎููู ูู ุงูุชุฎุฒูู|ุฃุซูู ุดููุฉ ูุฃูู Unicode|

---

##  ุซุงูุซูุง: **ุชุบููุฑ ุงุณู ุนููุฏ ููุฌูุฏ**

ูููู ุงูุงุณู ูููู:      - ูุด ูุงุถุญ.      - ููู ุฎุทุฃ ุฅููุงุฆู.      - ุทููู ุฒูุงุฏุฉ ุนู ุงููุฒูู.

###  ุชุบููุฑ ุงุณู ุฌุฏูู:

```sql
EXEC sp_rename 'OldTableName', 'NewTableName';
```

ูุซุงู:
```sql
EXEC sp_rename 'emp', 'Employees';
```

---
###  ุชุบููุฑ ุงุณู ุนููุฏ:

```sql
EXEC sp_rename 'TableName.OldColumnName', 'NewColumnName', 'COLUMN';
```

ูุซุงู:
```sql
EXEC sp_rename 'Employees.Fname', 'FirstName', 'COLUMN';
```


---

####  **ููู ูููุด ุฃูุฑ `ALTER TABLE RENAME` ูู SQL Serverุ ูุน ุฅูู ููุฌูุฏ ูู ูุบุงุช ุชุงููุฉ ุฒู MySQL ุ**

๐น ูุฃู SQL Server ุจูุชุจุน ุฃุณููุจ ูุฎุชูู ุดููุฉ ูู ุฃูุงูุฑ ุงูุชุนุฏูู.  
ุง  **Microsoft** ูุถูุช ุชุฎูู ุนูููุงุช ุฅุนุงุฏุฉ ุงูุชุณููุฉ ุชุญุตู ุนู ุทุฑูู ุฃูุงูุฑ ุฎุงุตุฉ (Stored Procedures) ุฒู `sp_rename`.

๐ธ ููู ูุบุงุช ุชุงููุฉ ุฒู: **PostgreSQL** - **MySQL**  ุจูุฏุนูู ุฃูุงูุฑ ูุจุงุดุฑุฉ ุฒู:

```sql
-- ุฏู ุดุบุงู ูู PostgreSQL ูุซูุงู:
ALTER TABLE Customers
RENAME COLUMN CustomerName TO FullName;
```


- ูุฏุง ุนุดุงู ูุญุงูุธูุง ุนูู ุงูุชูุงูู ูุน ุฅุตุฏุงุฑุงุช SQL Server ุงููุฏููุฉุ ููุฏููู ุชุญูู ุงูุจุฑ ูู ุงูุนูููุงุช.    




---
---

## 2- ุงูุฑ `DROP` โ ุญุฐู ุฌุฏูู ุฃู ุนููุฏ ุจุงููุงูู


####  `DROP TABLE` โ ุญุฐู ุฌุฏูู ุจุงููุงูู

```sql
DROP TABLE Employees;
```


- ุฏู ุจููุณุญ **ุงูุฌุฏูู ููู** ูู ูุงุนุฏุฉ ุงูุจูุงูุงุชุ ุจูู ุงูุจูุงูุงุช ุงููู ุฌูุงู.  
    โ๏ธ **ูููุด ุฑุฌูุน**ุ ูุงุฒู ุชุชุฃูุฏ 100% ุฅูู ูุด ูุญุชุงุฌู.
    
---

####  `DROP COLUMN` โ ุญุฐู ุนููุฏ ูู ุฌุฏูู

```sql
ALTER TABLE Employees
DROP COLUMN Department;
```


- ุง  `ALTER TABLE Employees`: ุฅุญูุง ุจูุนุฏู ุฌุฏูู `Employees`.
    
- ุง  `DROP COLUMN Department`: ุจูุญุฐู ุงูุนููุฏ ุงููู ุงุณูู `Department`.


---
---
---


##  ุฃูุงูุฑ ุงูุชุนุฏูู ุนูู ุงูุจูุงูุงุช (DML)

###  ุงูุฃูุฑ `INSERT INTO` 

**ุฏู ุฃูุฑ ุจูุณุชุฎุฏูู ุนูุดุงู ูุถูู ุจูุงูุงุช ุฌุฏูุฏุฉ ูุฃู ุฌุฏูู ุนูุฏูุง ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช.**
ูุนูู ูุซูุงู ูู ุนูุฏู ุฌุฏูู ุงุณูู `Employees`ุ ููุญุชุงุฌ ุชุณุฌู ููู ููุธู ุฌุฏูุฏุ ูู `INSERT INTO` ูู ุงููู ููููู ุจุงููููุฉ ุฏู.

#### ุฃูู ููุน: ุฅุถุงูุฉ ุตู ูุงูู ููุฌุฏูู
ูุนูู ูุชููู ูู ุงูุฃุนูุฏุฉ ุงููู ููุฌูุฏุฉ ูู ุงูุฌุฏููุ ูุจุชุฑุชูุจ ุงูุฃุนูุฏุฉ ููุณู ุฌูู ุงูุฌุฏูู.

ูุซุงู:
```sql
INSERT INTO Employees  
VALUES('Mariam','Mohammed','F','1995-12-05', NULL, NULL);
```

- ุง `INSERT INTO Employees` : ูุนูู ุฅุญูุง ููุถูู ุจูุงูุงุช ุฌุฏูุฏุฉ ูู ุงูุฌุฏูู ุงููู ุงุณูู `Employees`.
    
- ุง `VALUES(...)` : ุงูููู ุงููู ููุฏุฎููุงุ ููุงุฒู ุชููู **ุจููุณ ุชุฑุชูุจ ุงูุฃุนูุฏุฉ** ูู ุงูุฌุฏูู.
    

ูุนูู ูู ุงูุฃุนูุฏุฉ ุจุชูุฌู ุจุงูุชุฑุชูุจ ุฏู:  
`Fname`, `Lname`, `Gender`, `BirthDate`, `Supper_SSN`, `Dept_ID`
ูุงูุจูุงูุงุช ุงููู ููุฏุฎููุง ูุชุฑูุญ ูุฏู:

- ุง `'Mariam'` โ ุงูุนููุฏ `Fname`
- ุง `'Mohammed'` โ ุงูุนููุฏ `Lname`
- ุง `'F'` โ ุงูุนููุฏ `Gender`  ุ ูููุฐุง

---

##  ุชุงูู ููุน: ุฅุฏุฎุงู ุจูุงูุงุช ูู ุฃุนูุฏุฉ ูุนููุฉ ุจุณ

ุฃุญูุงููุง ูุด ูุชุญุชุงุฌ ุชููู ูู ุงูุฃุนูุฏุฉุ ูููู ุชุญุจ ุชุณุฌู ุจุณ ุงูุงุณู ูุงูุฌูุณ ูุซูุงูุ ูุงูุจุงูู ูุณู ูุด ูุชููุฑ ุนูุฏู.

ูุซุงู:
```sql
INSERT INTO Employees(Fname, Gender)  
VALUES('Moaz','M');
```


- ููุง ุฅุญูุง ุจูููู ุฅููุง ุนุงูุฒูู ูุถูู ุจูุงูุงุช ูู **ุนููุฏูู ุจุณ** ูู ุฌุฏูู `Employees`.
- ุงูุนููุฏูู ููุง: `Fname`, ู `Gender`
- ูุงูููู ุงููู ููุฏุฎููุง: `'Moaz'` ูุชุฑูุญ ูู `Fname`ุ ู `'M'` ูู `Gender`.

> ุจุงูู ุงูุฃุนูุฏุฉ ูุชููู Null  ูู ูุด ูุนููู ุนูููุง ุดุฑุท (NOT NULL) .

---

###  ุชุงูุช ููุน: ุฅุฏุฎุงู ุฃูุชุฑ ูู ุตู ูุฑุฉ ูุงุญุฏุฉ (Row Constructor)

ูุนูู ุจุฏู ูุง ุชูุชุจ ุฃูุฑ `INSERT` ูู ูุฑุฉุ ูููู ุชุถูู ูุฌููุนุฉ ุตููู ูุน ุจุนุถ.

ูุซุงู:
```sql
INSERT INTO Employees(Fname, Lname, Gender, BirthDate, Supper_SSN, Dept_ID)  
VALUES  
('Sama','Khaled','F','2000-10-12',NULL,1),  
('Samy','Sabry','M','1998-10-12',NULL,1),  
('Manar','Ahmed','F','1998-03-12',NULL,1),  
('Mohammed','Amr','M','1995-10-12',NULL,1);
```

- ูู ุตู ูุญุทูุท ุจูู ููุณููุ ููู ูููุฉ ุฑุงูุญุฉ ูู ููุงููุง ุญุณุจ ุชุฑุชูุจ ุงูุฃุนูุฏุฉ ูุจููุตู ุจูููู ุจูุงุตูุฉ (`,`)

---
##  ููุญูุธุงุช ูููุฉ:

1. ูู ููู ุฃุนูุฏุฉ ุนูููุง ุดุฑุท `NOT NULL` ูููุฏุฎูุชุด ูููุง ูููุฉุ ููุฏูู ุฎุทุฃ.
    
2. ูู ุนูุฏู ููุชุงุญ ุฃุณุงุณู (Primary Key) ุฒู ุฑูู ุงูููุธูุ ูุงุฒู ูููู ูุฑูุฏ ูู ูู ุตู ุฌุฏูุฏ.
    
3. ุงูููู ูุงุฒู ุชุชูุงุดู ูุน ููุน ุงูุจูุงูุงุช ุจุชุงุน ุงูุนููุฏ:
    - ูู ุงูุนููุฏ ูุตุ ุญุท ุงูููู ุจูู ุนูุงูุงุช ุงูุชุจุงุณ `'...'`
    - ูู ุงูุนููุฏ ุฑููุ ูููุด ุฏุงุนู ูุนูุงูุงุช ุงูุงูุชุจุงุณ
    - ูู ุชุงุฑูุฎุ ุงูุชุจู ุจุตูุบุฉ `'YYYY-MM-DD'`



---
---



## ุงูุงูุฑ `UPDATE` โ ูุชุนุฏูู ุงูุจูุงูุงุช ุงูููุฌูุฏุฉ

 ุจูุณุชุฎุฏูู ููุง ูููู ุนุงูุฒูู **ูุบููุฑ ุจูุงูุงุช ููุฌูุฏุฉ ุจุงููุนู** ุฌููู ุงูุฌุฏูู.

ุงูุงูุฑ:
```sql
UPDATE ุงุณู_ุงูุฌุฏูู
SET ุงููููุฉ_ุงูุฌุฏูุฏุฉ = ุงุณู_ุงูุนููุฏ  
WHERE ุดุฑุท_ุงูุชุนุฏูู;
```

---


 ูุซุงู: ุชุนุฏูู ูุดุฑู ููุธู ูุนูู
```sql
UPDATE Employees
SET Supper_SSN = 2
WHERE SSN = 4;
```

- `UPDATE Employees` โ ุนุฏู ูู ุฌุฏูู ุงูููุธููู.
- `SET Supper_SSN = 2` โ ุฎูู ุงููุดุฑู ุฑูู 2.
- `WHERE SSN = 4` โ ุจุณ ููููุธู ุงููู ุฑููู 4.

---

 ูุซุงู 2: ุชุบููุฑ ุงุณู ุงูุนุงุฆูุฉ (ุงูููุจ)
```sql
UPDATE Employees
SET Lname = 'Ali'
WHERE SSN = 2;
```

---

 ูุซุงู 3: ุฒูุงุฏุฉ ุงููุฑุชุจ ุจูุณุจุฉ 10ูช ููููุธูุงุช ุงููู ูุฑุชุจูู 5000 ุฃู ุฃูู
```sql
UPDATE Employees
SET Salary = Salary + Salary * 0.1
WHERE Gender = 'F' AND Salary <= 5000;
```

- ุจูุฒููุฏ **ุงููุฑุชุจ ุจูุณุจุฉ 10%**  ุจุณ ูู ูุงูุช **ุงูููุธูุฉ** (ุงูุฌูุณ = 'F') ููุฑุชุจูุง **5000 ุฃู ุฃูู**.

---

## ุซุงูููุง: `DELETE` โ ูุญุฐู ุตููู ูู ุงูุฌุฏูู

ุจูุณุชุฎุฏู ุงูุฃูุฑ ุฏู ููุง ูููู ุนุงูุฒูู **ููุญู ุจูุงูุงุช ููุธู ุฃู ุฃูุชุฑ** ูู ุงูุฌุฏูู.

ูุซุงู: 
```sql
DELETE FROM Employees
WHERE SSN = 8;
```

- `DELETE FROM Employees`      โ ุงูุณุญ ุตู ูู ุฌุฏูู ุงูููุธููู.
    
- `WHERE SSN = 8`       โ ููู ุจุณ ุงูุณุญ ุงูููุธู ุงููู ุฑููู 8.
- 
โ๏ธ **ูู ูุณูุช ุชูุชุจ ุดุฑุท `WHERE`ุ ููุชุญุฐู ูู ุงูุจูุงูุงุช ูู ุงูุฌุฏูู!**



---
---



## ุงูุฃูุฑ `SELECT` โ ูุฌูุจ ุงูุจูุงูุงุช ูู ุงูุฌุฏูู

ุงููุธููุฉ ุงูุฃุณุงุณูุฉ ููุฃูุฑ ุฏู ูู **ุนุฑุถ ุงูุจูุงูุงุช** ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช. ุณูุงุก ูู ุงูุจูุงูุงุชุ ุฃู ุจูุงูุงุช ูุนููุฉ ุจุดุฑูุท.

---

###  ุนุฑุถ ูู ุงูุจูุงูุงุช ูู ุงูุฌุฏูู

```sql
SELECT * FROM Student;
```

  `SELECT *`  => ุงุนุฑุถ **ูู ุงูุฃุนูุฏุฉ** ูู ุงูุฌุฏูู.
  `FROM Student`  =>  ูู ุฌุฏูู ุงูุทูุงุจ ุงููู ุงุณูู `Student`.

---

###  ุนุฑุถ ุฃุนูุฏุฉ ูุนููุฉ 

```sql
SELECT St_Fname, St_Lname, St_Age
FROM Student;
```

ุงุนุฑุถ **ุงูุงุณู ุงูุฃูู** ู**ุงุณู ุงูุนุงุฆูุฉ** ู**ุงูุนูุฑ** ุจุณ ููู ุทุงูุจ.

ูููุง ุฃูุช ุจุชููู ุงูุจูุงูุงุช ุงููุนุฑูุถุฉุ ูุจุชุดูู ุจุณ ุงููู ูุญุชุงุฌู.

---

###  ุนุฑุถ ุจูุงูุงุช ุทุงูุจ ูุนูู ุจุฑูู ID

```sql
SELECT St_Id, St_Fname, St_Lname, St_Age
FROM Student
WHERE St_Id = 6;
```

 ุงุนุฑุถ ุจูุงูุงุช ุงูุทุงูุจ ุงููู ุฑููู 6 ููุท.

---
###  ููุชุฑู ุงูุจูุงูุงุช ุญุณุจ ุงูุนูุฑ

```sql
SELECT St_Id, St_Fname, St_Age
FROM Student
WHERE St_Age > 23;
```

 ุงุนุฑุถ ุจุณ ุงูุทูุงุจ ุงููู ุนูุฑูู ุฃูุชุฑ ูู 23.

---

###  ุงูุทูุงุจ ุงููู ุฃุนูุงุฑูู **ุจูู 23 ู 30** ุณูุฉ

```sql
WHERE St_Age BETWEEN 23 AND 30;
```

 "BETWEEN" ูุนูุงูุง: ูู 23 **ูุญุฏ** 30ุ ูุจุชุดูู ุงูุฑูููู.

 ููุณ ุงููุชูุฌุฉ ูููู ููุชุจูุง ูุฏู:

```sql
WHERE St_Age >= 23 AND St_Age <= 30;
```

---

### โ ุงูุทูุงุจ ุงููู ุฃุนูุงุฑูู **ูุด** ุจูู 23 ู30

```sql
WHERE St_Age NOT BETWEEN 23 AND 30;
```

 ุฏู ุจุชุนุฑุถ ูู ุงูุทูุงุจ ุงููู ุนูุฑูู ุฃูู ูู 23 ุฃู ุฃูุจุฑ ูู 30.

---

##  ุงูุจุญุซ ุญุณุจ ุงูุนููุงู (Address)

####  ุทูุงุจ ุณุงูููู ูู "ุงููุงูุฑุฉ" ุฃู "ุงูุฅุณููุฏุฑูุฉ"

```sql
WHERE St_Address IN ('cairo', 'Alex');
```

 `IN` ูุนูุงูุง: ุฃู ูุงุญุฏ ูู ุงููู ูู ุงูููุณูู.

---

#### โ ุทูุงุจ ูุด ุณุงูููู ูู "ุงููุงูุฑุฉ" ููุง "ุงูุฅุณููุฏุฑูุฉ"

```sql
WHERE St_Address NOT IN ('cairo', 'Alex');
```

 "NOT IN" ุจุชุนูู ุงูุนูุณ ุชูุงููุง.

---

##  ุงุณุชุฎุฏุงู NULL

####  ุงูุทูุงุจ ุงููู **ูุง ุนูุฏููุด ูุดุฑู**

```sql
WHERE St_super IS NULL;
```

๐ธ `IS NULL`  
ูุนูู ุงูุนููุฏ ูุงุถูุ ุฃู **ูุงููุด ูููุฉ ุฎุงูุต** ููู.

---

###  ุงูุทูุงุจ ุงููู **ุนูุฏูู ูุดุฑู**

```sql
WHERE St_super IS NOT NULL;
```

๐ธ `IS NOT NULL`  
ูุนูู: ููู ูููุฉ ููุฌูุฏุฉ.

---

### โ ููู ุดุฑุท ุจุงุณุชุฎุฏุงู `NOT`

```sql
WHERE NOT (St_Age > 25);
```

 ูุนูู: ุงุนุฑุถ ูู ุงููู ุนูุฑูู **25 ุฃู ุฃูู**.

---

### โ ุงุณุชุฎุฏุงู ุนูุงูุฉ "ูุง ูุณุงูู"

```sql
WHERE St_Age <> 30;
```

๐ธ `<>` ูุนูุงูุง: **ูุด ุจูุณุงูู**.

---

###  ุงุณุชุฎุฏุงู ุดุฑุท ุจุฏูู ุจุงุณุชุฎุฏุงู `OR`

```sql
WHERE St_Address = 'cairo' OR St_Address = 'Alex';
```

 ุฏู ูุนูุงูุง: ุงุนุฑุถ ุงูุทูุงุจ ุงููู ุณุงูููู ูู ุงููุงูุฑุฉ **ุฃู** ุงูุฅุณููุฏุฑูุฉ.



---
___

ููุงุญุธุงุช ุงุถุงููู:  


#### ูู ุนุงูุฒ ุชุนุฑุถ **ุฃูู 5 ุตููู ููุท** ูู ุฌุฏูู ููู ุจูุงูุงุช ูุชูุฑ:

```sql
SELECT TOP 5 * FROM Student;
```


- `SELECT TOP 5` โ   "ูุงุช ุฃูู 5 ุตููู ุจุณ".
- `FROM Student` โ ูู ุฌุฏูู ุงูุทูุงุจ.
    
 ูู ุนุงูุฒ **ุชุนุฑุถ ุนููุฉ ุจุณูุทุฉ ูู ุงูุจูุงูุงุช** ุจุฏู ูุง ุชุทุจุน ูู ุงูุตููู.



----

####  `ORDER BY` โ    ุชุฑุชูุจ ูุชุงุฆุฌ ุงูุงุณุชุนูุงูุงุช

ุจูุณุชุฎุฏูู ุนูุดุงู ูุฑุชูุจ ุงูุจูุงูุงุช ุญุณุจ ุนููุฏ ุฃู ุฃูุชุฑ.

 ุชุตุงุนุฏู (ูู ุงูุตุบูุฑ ูููุจูุฑ):
```sql
SELECT * FROM Student
ORDER BY St_Age ASC;
```

 ุชูุงุฒูู (ูู ุงููุจูุฑ ููุตุบูุฑ):
```sql
SELECT * FROM Student
ORDER BY St_Age DESC;
```

 ุชุฑุชูุจ ุญุณุจ ุฃูุชุฑ ูู ุนููุฏ:
```sql
ORDER BY St_Address ASC, St_Age DESC;
```

---

